(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app.material"],{"072a":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("5530"),i=(a("07ac"),a("60bb")),s=a.n(i),r=a("6a80"),o=s.a.mapValues(r,(function(e,t){return Object(n["a"])({name:t},e)}));Object.values(o);t["b"]={characterTable:o,characterList:Object.values(o)}},"3d2f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"arkn-material"}},[a("div",{staticClass:"mdui-row"},[a("div",{staticClass:"mdui-col-xs-12"},[a("table",{staticClass:"mdui-table tag-table"},[a("tbody",[a("tr",[e.$root.smallScreen?e._e():a("td",{attrs:{width:"1"}},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.tagBtnHead,expression:"$root.color.tagBtnHead"}],staticClass:"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header"},[e._v(e._s(e.$t("cultivate.panel.rarity")))])]),a("td",{staticClass:"mobile-screen-flex-box tag-btn-wrap"},[e.$root.smallScreen?a("label",{staticClass:"mdui-textfield-label flex-full"},[e._v(e._s(e.$t("cultivate.panel.rarity")))]):e._e(),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.allRare?e.color.selected:e.color.notSelected,expression:"allRare ? color.selected : color.notSelected"}],staticClass:"mdui-btn mdui-btn-dense mdui-ripple tag-btn",on:{click:function(t){e.selected.rare=e.$_.fill(Array(e.selected.rare.length),!e.allRare)}}},[e._v(e._s(e.$t("common.selectAllShorten")))]),e._l(e.rareArr,(function(t){return a("tag-button",{key:"rare-"+t,staticClass:"num-btn",attrs:{notSelectedColor:e.color.notSelected,selectedColor:e.color[t]},model:{value:e.selected.rare[t-1],callback:function(a){e.$set(e.selected.rare,t-1,a)},expression:"selected.rare[i - 1]"}},[e._v(e._s(t))])})),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.redBtn,expression:"$root.color.redBtn"}],staticClass:"mdui-btn mdui-btn-dense mdui-color-red tag-btn",on:{click:e.resetSelectedRare}},[e._v(e._s(e.$t("common.reset")))])],2)]),a("tr",[e.$root.smallScreen?e._e():a("td",{attrs:{width:"1"}},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.tagBtnHead,expression:"$root.color.tagBtnHead"}],staticClass:"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header"},[e._v(e._s(e.$t("common.preset")))])]),a("td",[e.$root.smallScreen?a("label",{staticClass:"mdui-textfield-label"},[e._v(e._s(e.$t("common.preset")))]):e._e(),a("vue-tags-input",{ref:"presetInput",staticClass:"tags-input",class:{empty:0===e.preset.length},attrs:{id:"preset",tags:e.selected.presets,"allow-edit-tags":!1,"add-from-paste":!1,"add-on-blur":!1,"autocomplete-items":e.presetItems,"add-only-from-autocomplete":!0,"autocomplete-always-open":!0,placeholder:e.$t("cultivate.panel.preset.placeholder"),autocomplete:"off"},on:{"tags-changed":e.usePreset,"before-adding-tag":function(t){return e.showPreset(t)}},scopedSlots:e._u([{key:"autocomplete-item",fn:function(t){return a("div",{staticClass:"mdui-list-item mdui-p-y-0 mdui-p-x-1",on:{click:function(e){return t.performAdd(t.item)}}},[a("div",{staticClass:"mdui-list-item-avatar"},[a("avatar",{key:"head-"+t.item.text,staticClass:"no-pe",attrs:{name:t.item.name}})],1),a("div",{staticClass:"mdui-list-item-content mdui-p-y-0 mdui-m-l-1"},[e._v(e._s(t.item.text))])])}},{key:"tag-center",fn:function(t){return a("span",{staticClass:"no-sl",on:{click:function(a){return e.showPreset(t,!0)}}},[e._v(e._s(t.tag.text))])}}]),model:{value:e.preset,callback:function(t){e.preset=t},expression:"preset"}})],1)]),a("tr",[e.$root.smallScreen?e._e():a("td",{attrs:{width:"1"}},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.tagBtnHead,expression:"$root.color.tagBtnHead"}],staticClass:"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header"},[e._v(e._s(e.$t("common.todo")))])]),a("td",[e.$root.smallScreen?a("label",{staticClass:"mdui-textfield-label"},[e._v(e._s(e.$t("common.todo")))]):e._e(),e.selected.presets.length?e._e():a("span",{staticClass:"mdui-text-color-theme-secondary mdui-p-x-1 font-size-14 no-sl"},[e._v(e._s(e.$t("common.none")))]),e._l(e.selected.presets,(function(t,n){return a("div",{key:t.name,staticClass:"mdui-chip no-bs mdui-m-r-1",class:{"opacity-5":!e.$root.isImplementedChar(t.name)},on:{click:function(a){return e.$refs.presetTodoDialog.showTodoPreset({tag:t,index:n})}}},[a("avatar",{staticClass:"mdui-chip-icon",attrs:{name:t.name}}),a("span",{staticClass:"mdui-chip-title"},[e._v(e._s(t.text))])],1)}))],2)]),a("tr",[e.$root.smallScreen?e._e():a("td",{attrs:{width:"1"}},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.tagBtnHead,expression:"$root.color.tagBtnHead"}],staticClass:"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header"},[e._v(e._s(e.$t("common.setting")))])]),a("td",[a("mdui-switch",{model:{value:e.setting.simpleMode,callback:function(t){e.$set(e.setting,"simpleMode",t)},expression:"setting.simpleMode"}},[e._v(e._s(e.$t("cultivate.setting.simpleMode")))]),a("mdui-switch",{directives:[{name:"show",rawName:"v-show",value:e.setting.simpleMode,expression:"setting.simpleMode"}],model:{value:e.setting.simpleModeOrderedByRareFirst,callback:function(t){e.$set(e.setting,"simpleModeOrderedByRareFirst",t)},expression:"setting.simpleModeOrderedByRareFirst"}},[e._v(e._s(e.$t("cultivate.setting.simpleModeOrderedByRareFirst")))]),e._l(e.settingList[0],(function(t){return a("mdui-switch",{key:t,model:{value:e.setting[t],callback:function(a){e.$set(e.setting,t,a)},expression:"setting[key]"}},[e._v(e._s(e.$t("cultivate.setting."+t)))])})),e.$root.localeCN?a("mdui-switch",{model:{value:e.setting.penguinUseCnServer,callback:function(t){e.$set(e.setting,"penguinUseCnServer",t)},expression:"setting.penguinUseCnServer"}},[a("span",{attrs:{"mdui-tooltip":"{content:'可能反而会更慢，请酌情使用',position:'top'}"}},[e._v(e._s(e.$t("cultivate.setting.penguinUseCnServer")))])]):e._e()],2)]),a("tr",[e.$root.smallScreen?e._e():a("td",{attrs:{width:"1"}},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.tagBtnHead,expression:"$root.color.tagBtnHead"}],staticClass:"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header"},[e._v(e._s(e.$t("common.option")))])]),a("td",{staticClass:"mobile-screen-flex-box tag-btn-wrap"},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.redBtn,expression:"$root.color.redBtn"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn",on:{click:function(t){return e.reset()}}},[e._v(e._s(e.$t("cultivate.panel.button.resetAll")))]),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.redBtn,expression:"$root.color.redBtn"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn",on:{click:function(t){return e.reset("need")}}},[e._v(e._s(e.$t("cultivate.panel.button.resetNeed")))]),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.redBtn,expression:"$root.color.redBtn"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn",on:{click:function(t){return e.reset("have")}}},[e._v(e._s(e.$t("cultivate.panel.button.resetOwned")))]),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-blue-600","mdui-color-blue-a100 mdui-ripple-black"],expression:"['mdui-color-blue-600', 'mdui-color-blue-a100 mdui-ripple-black']"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn",on:{click:function(t){return e.$refs.dataSyncDialog.open()}}},[a("i",{staticClass:"mdui-icon material-icons"},[e._v("cloud")]),e._v(" "+e._s(e.$t("cultivate.panel.button.cloudSync")))]),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-pink","mdui-color-pink-a100 mdui-ripple-black"],expression:"['mdui-color-pink', 'mdui-color-pink-a100 mdui-ripple-black']"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn",on:{click:e.resetPenguinData}},[e._v(e._s(e.$t("cultivate.panel.button.forceUpdate")))]),a("button",{directives:[{name:"show",rawName:"v-show",value:e.$_.size(e.highlightCost),expression:"$_.size(highlightCost)"},{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.pinkBtn,expression:"$root.color.pinkBtn"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn",on:{click:function(t){e.highlightCost={}}}},[e._v(e._s(e.$t("cultivate.panel.button.clearHighlight")))])])]),a("tr",[e.$root.smallScreen?e._e():a("td",{attrs:{width:"1"}},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.tagBtnHead,expression:"$root.color.tagBtnHead"}],staticClass:"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header"},[e._v(e._s(e.$t("common.planner")))])]),a("td",{staticClass:"mobile-screen-flex-box tag-btn-wrap"},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-purple","mdui-color-purple-a100 mdui-ripple-black"],expression:"['mdui-color-purple', 'mdui-color-purple-a100 mdui-ripple-black']"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn btn-group-left",attrs:{id:"ark-planner-btn",disabled:e.apbDisabled},on:{click:function(t){e.apbDisabled=!0,e.initPlanner().then((function(){e.showPlan(),e.apbDisabled=!1}))}}},[e._v(e._s(e.$t("cultivate.panel.button.farmCalculation")))]),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-purple","mdui-color-purple-a100 mdui-ripple-black"],expression:"['mdui-color-purple', 'mdui-color-purple-a100 mdui-ripple-black']"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn btn-group-right no-grow",attrs:{disabled:e.apbDisabled},on:{click:function(t){return e.$refs.planSettingDialog.open()}}},[a("i",{staticClass:"mdui-icon material-icons"},[e._v("settings")])])])])])])]),a("div",{staticClass:"mdui-col-xs-12"},[a("div",{staticClass:"mdui-panel mdui-panel-gapless mdui-m-t-2",attrs:{"mdui-panel":""}},[a("div",{staticClass:"mdui-panel-item"},[a("div",{staticClass:"mdui-panel-item-header"},[a("div",{staticClass:"mdui-panel-item-title"},[e._v(e._s(e.$t("common.guide")))]),a("i",{staticClass:"mdui-panel-item-arrow mdui-icon material-icons"},[e._v("keyboard_arrow_down")])]),a("div",{staticClass:"mdui-panel-item-body mdui-p-l-0"},[a("cultivate-guide")],1)])])])]),a("div",{staticClass:"mdui-row",class:{rendering:e.$root.materialListRendering},attrs:{id:"material-main"}},[e.setting.simpleMode?a("div",{staticClass:"mdui-col-xs-12 mdui-m-t-4",attrs:{id:"material-simple"}},[a("transition-group",{staticClass:"material-group-wrap",attrs:{tag:"div",name:"material-group-wrap-transition"},on:{"before-leave":e.$root.transitionBeforeLeave,"after-leave":e.$root.transitionAfterLeaveBeforeEnter}},[e._l(e.setting.simpleModeOrderedByRareFirst?e.materialRareFirstOrder:e.materialOrder,(function(t){return a("div",{directives:[{name:"show",rawName:"v-show",value:e.showMaterialsFlatten.has(t)&&e.$root.isImplementedMaterial(t),expression:"\n            showMaterialsFlatten.has(materialName) && $root.isImplementedMaterial(materialName)\n          "}],key:t+"-simple",staticClass:"material-simple-grid mdui-m-b-2 mdui-m-r-2"},[a("div",{staticClass:"mdui-card material material-simple",class:{"opacity-5":e.setting.translucentDisplay&&e.hasInput&&0==e.autoGaps[t][0],highlight:e.highlight[t]},attrs:{name:t,rare:e.materialTable[t].rare}},[a("div",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.color[e.materialTable[t].rare],expression:"color[materialTable[materialName].rare]"}],staticClass:"card-triangle-small"}),a("div",{staticClass:"mdui-card-header",attrs:{name:t}},[a("div",{staticClass:"mdui-card-header-avatar mdui-valign pointer no-sl",on:{click:function(a){return e.showDropDetail(e.materialTable[t])}}},[a("img",{staticClass:"material-image no-pe",attrs:{src:e.$root.materialImage(e.materialTable[t].name),crossorigin:"anonymous"},on:{error:e.handleImgErr}}),a("div",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.inputs[t].need>0?e.$root.color.pinkText:[],expression:"inputs[materialName].need > 0 ? $root.color.pinkText : []"}],staticClass:"material-simple-name mdui-text-truncate"},[e._v(e._s(e.$t("material."+t)))])]),a("div",{staticClass:"input-panel"},[a("mdui-number-input",{staticClass:"block mdui-m-b-1",attrs:{placeholder:e.$t("common.need")},model:{value:e.inputs[t].need,callback:function(a){e.$set(e.inputs[t],"need",a)},expression:"inputs[materialName].need"}}),a("mdui-number-input",{staticClass:"block mdui-m-b-1",attrs:{placeholder:e.$t("common.owned")},model:{value:e.inputs[t].have,callback:function(a){e.$set(e.inputs[t],"have",a)},expression:"inputs[materialName].have"}}),a("div",{staticClass:"gap block"},[a("span",{staticClass:"gap-num no-sl"},[e._v(e._s(e.autoGaps[t][0])),e.autoGaps[t][1]>0?a("small",[e._v("("+e._s(e.autoGaps[t][1])+")")]):e._e()])])],1)])])])})),e._l(6,(function(e){return a("div",{key:e,staticClass:"material-simple-grid mdui-m-r-2"})}))],2)],1):a("transition-group",{attrs:{id:"material-normal",tag:"div",name:"material-group-wrap-transition"},on:{"before-leave":e.$root.transitionBeforeLeave,"after-leave":e.$root.transitionAfterLeaveBeforeEnter,"before-enter":e.$root.transitionAfterLeaveBeforeEnter}},e._l(e.rareArr,(function(t){return a("div",{directives:[{name:"show",rawName:"v-show",value:e.showMaterials[t].size>0,expression:"showMaterials[i].size > 0"}],key:"materials-"+t,staticClass:"mdui-col-xs-12"},[a("div",{staticClass:"mdui-typo rare-title"},[a("h2",[e._v(e._s(e.$t("common.rarity"))+" "+e._s(t)),e.moraleConsumption[t]?a("small",{staticClass:"mdui-m-l-2"},[e._v(e._s(e.$t("common.morale"))+" "+e._s(e.moraleText(e.moraleConsumption[t])))]):e._e()])]),a("transition-group",{staticClass:"material-group-wrap",attrs:{tag:"div",name:"material-group-wrap-transition"},on:{"before-leave":e.$root.transitionBeforeLeave,"after-leave":e.$root.transitionAfterLeaveBeforeEnter,"before-enter":e.$root.transitionAfterLeaveBeforeEnter}},[e._l(e.materials[t],(function(n){return a("div",{directives:[{name:"show",rawName:"v-show",value:e.showMaterials[t].has(n.name)&&e.$root.isImplementedMaterial(n.name),expression:"\n              showMaterials[i].has(material.name) && $root.isImplementedMaterial(material.name)\n            "}],key:n.name,staticClass:"mdui-card material",class:{"mdui-p-b-2":e.$root.smallScreen,"mdui-m-b-2 mdui-m-r-2":!e.$root.smallScreen,"opacity-5":e.setting.translucentDisplay&&e.hasInput&&0==e.autoGaps[n.name][0],highlight:e.highlight[n.name]},attrs:{name:n.name,rare:n.rare}},[a("div",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.color[t],expression:"color[i]"}],staticClass:"card-triangle"}),a("div",{staticClass:"mdui-card-header",attrs:{"mdui-tooltip":!e.$root.smallScreen&&"{content:'"+e.madeofTooltips[n.name]+"',position:'top'}"}},[a("div",{staticClass:"mdui-card-header-avatar mdui-valign pointer no-sl",on:{click:function(t){return e.showDropDetail(e.materialTable[n.name])}}},[a("img",{staticClass:"material-image no-pe",attrs:{src:e.$root.materialImage(n.name),crossorigin:"anonymous"},on:{error:e.handleImgErr}})]),a("div",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.inputs[n.name].need>0?e.$root.color.pinkText:[],expression:"inputs[material.name].need > 0 ? $root.color.pinkText : []"}],staticClass:"mdui-card-header-title no-sl"},[a("div",{staticClass:"material-name-wrap mdui-valign"},[a("div",{staticClass:"mdui-text-truncate material-name"},[e._v(e._s(e.$t("material."+n.name)))]),e.showSyntBtn(n)?a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.pinkText,expression:"$root.color.pinkText"}],staticClass:"\n                      synt-btn\n                      mdui-btn mdui-ripple mdui-btn-dense\n                      small-btn\n                      mdui-p-x-1 mdui-m-l-05\n                    ",on:{click:function(t){return e.synthesize(n.name,1)}}},[e._v(e._s(e.$t("common.synthesize"))+" 1")]):e._e(),e.showSyntBtn(n)?a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.pinkText,expression:"$root.color.pinkText"}],staticClass:"\n                      synt-btn\n                      mdui-btn mdui-ripple mdui-btn-dense\n                      small-btn\n                      mdui-p-x-1 mdui-m-l-05\n                    ",on:{click:function(t){return e.synthesize(n.name)}}},[e._v(e._s(e.$t("common.synthesize"))+" all")]):e._e()]),e.$root.smallScreen?a("p",{staticClass:"\n                    material-made-of\n                    mdui-m-y-0 mdui-text-color-theme-disabled mdui-text-truncate\n                  "},[e._v(e._s(e.madeofTooltips[n.name]))]):e._e()]),a("div",{staticClass:"input-panel",class:{"mdui-m-t-1":!e.$root.smallScreen}},[a("mdui-number-input",{staticClass:"mdui-m-r-1",model:{value:e.inputs[n.name].need,callback:function(t){e.$set(e.inputs[n.name],"need",t)},expression:"inputs[material.name].need"}},[e._v(e._s(e.$t("common.need")))]),a("mdui-number-input",{staticClass:"mdui-m-r-1",model:{value:e.inputs[n.name].have,callback:function(t){e.$set(e.inputs[n.name],"have",t)},expression:"inputs[material.name].have"}},[e._v(e._s(e.$t("common.owned")))]),a("div",{staticClass:"gap"},[a("label",{staticClass:"mdui-textfield-label no-sl"},[e._v(e._s(e.$t("common.lack")))]),a("span",{staticClass:"gap-num no-sl"},[e._v(e._s(e.autoGaps[n.name][0])),e.autoGaps[n.name][1]>0?a("small",[e._v("("+e._s(e.autoGaps[n.name][1])+")")]):e._e()])]),e.$_.size(e.displayDropListByServer[n.name])>0?a("ul",{staticClass:"drop-list no-sl pointer",attrs:{length:e.$_.size(e.displayDropListByServer[n.name])},on:{click:function(t){return e.showDropDetail(n)},wheel:function(t){return t.preventDefault(),e.onDropListScroll.apply(null,arguments)}}},e._l(e.displayDropListByServer[n.name],(function(t,i){var s=t.occPer,r=t.expectAP;return a("li",{key:n.name+"-"+i,staticClass:"drop-item"},[a("span",{staticClass:"code"},[e._v(e._s("synt"===i?e.$t("common.synthesize"):i))]),e.setting.showDropProbability&&e.plannerInited?a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.color[e.enumOccPer[s]],expression:"color[enumOccPer[occPer]]"}],staticClass:"probability"},[e._v(e._s(r?1e3>r?r.toPrecision(3):r.toFixed():"N/A")+"⚡")]):a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.color[e.enumOccPer[s]],expression:"color[enumOccPer[occPer]]"}],staticClass:"probability"},[e._v(e._s(e.$t("cultivate.occPer."+e.enumOccPer[s])))])])})),0):e._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:e.$root.smallScreen&&e.$_.size(e.displayDropListByServer[n.name])>2,expression:"\n                    $root.smallScreen && $_.size(displayDropListByServer[material.name]) > 2\n                  "}],staticClass:"drop-list-more"},[e._v(">")])],1)])])})),e._l(2,(function(t){return a("div",{key:t,staticClass:"material",class:{"mdui-m-r-2":!e.$root.smallScreen}})}))],2)],1)})),0)],1),a("mdui-dialog",{ref:"presetDialog",staticClass:"mdui-card",attrs:{id:"preset-setting"},on:{closed:function(t){e.selectedPresetName=""}}},[e.sp?[a("div",{staticClass:"mdui-card-header mdui-p-b-0"},[a("avatar",{staticClass:"mdui-card-header-avatar mdui-color-grey-400 no-pe",attrs:{name:e.selectedPresetName}}),a("div",{staticClass:"mdui-card-header-title"},[e._v(e._s(e.$t("character."+e.selectedPresetName)))])],1),a("div",{staticClass:"mdui-card-content preset-list mdui-p-x-3"},[a("div",{staticClass:"elite-cb-list"},e._l(e.sp.evolve,(function(t,n){return a("mdui-checkbox",{key:"elite-"+(n+1),model:{value:e.pSetting.evolve[n],callback:function(t){e.$set(e.pSetting.evolve,n,t)},expression:"pSetting.evolve[i]"}},[e._v(e._s(e.$t("common.promotion"))+e._s(n+1))])})),1),e.sp.skills.normal.length>=2?a("div",{staticClass:"skill-normal cb-with-num-select"},[a("mdui-checkbox",{staticClass:"mdui-p-r-2",model:{value:e.pSetting.skills.normal[0],callback:function(t){e.$set(e.pSetting.skills.normal,0,t)},expression:"pSetting.skills.normal[0]"}},[e._v(e._s(e.$t("common.skill")))]),a("div",{staticClass:"num-select inline-block"},[a("mdui-select-num",{attrs:{options:e.$_.range(1,e.sp.skills.normal.length+1)},on:{change:function(t){e.$mutationNextTick(),e.pSetting.skills.normal[0]=!0,e.pSetting.skills.normal[1]>=e.pSetting.skills.normal[2]&&(e.pSetting.skills.normal[2]=e.pSetting.skills.normal[1]+1)}},model:{value:e.pSetting.skills.normal[1],callback:function(t){e.$set(e.pSetting.skills.normal,1,t)},expression:"pSetting.skills.normal[1]"}}),a("i",{staticClass:"mdui-icon material-icons mdui-m-x-2"},[e._v("arrow_forward")]),a("span",{key:"sn-s-"+(e.pSetting.skills.normal[1]+1)},[a("mdui-select-num",{attrs:{options:e.$_.range(e.pSetting.skills.normal[1]+1,e.sp.skills.normal.length+2)},on:{change:function(t){e.pSetting.skills.normal[0]=!0}},model:{value:e.pSetting.skills.normal[2],callback:function(t){e.$set(e.pSetting.skills.normal,2,t)},expression:"pSetting.skills.normal[2]"}})],1)],1)],1):e._e(),e.sp.skills.elite.length>0?e._l(e.sp.skills.elite,(function(t,n){return a("div",{directives:[{name:"show",rawName:"v-show",value:e.isSkillReleased(t),expression:"isSkillReleased(skill)"}],key:"se-"+t.name,staticClass:"skill-elite cb-with-num-select"},[a("mdui-checkbox",{staticClass:"mdui-p-r-2",model:{value:e.pSetting.skills.elite[n][0],callback:function(t){e.$set(e.pSetting.skills.elite[n],0,t)},expression:"pSetting.skills.elite[i][0]"}},[e._v(e._s(e.$t("skill."+t.name)))]),a("div",{staticClass:"num-select inline-block"},[a("mdui-select-num",{attrs:{options:e.$_.range(e.sp.skills.normal.length+1,e.sp.skills.normal.length+t.cost.length+1)},on:{change:function(t){e.$mutationNextTick(),e.pSetting.skills.elite[n][0]=!0,e.pSetting.skills.elite[n][1]>=e.pSetting.skills.elite[n][2]&&(e.pSetting.skills.elite[n][2]=e.pSetting.skills.elite[n][1]+1)}},model:{value:e.pSetting.skills.elite[n][1],callback:function(t){e.$set(e.pSetting.skills.elite[n],1,t)},expression:"pSetting.skills.elite[i][1]"}}),a("i",{staticClass:"mdui-icon material-icons mdui-m-x-2"},[e._v("arrow_forward")]),a("span",{key:"se-s-"+(e.pSetting.skills.elite[n][1]+1)},[a("mdui-select-num",{attrs:{options:e.$_.range(e.pSetting.skills.elite[n][1]+1,e.sp.skills.normal.length+t.cost.length+2)},on:{change:function(t){e.pSetting.skills.elite[n][0]=!0}},model:{value:e.pSetting.skills.elite[n][2],callback:function(t){e.$set(e.pSetting.skills.elite[n],2,t)},expression:"pSetting.skills.elite[i][2]"}})],1)],1)],1)})):e._e(),e.sp.uniequip.length>0?a("div",{staticClass:"uniequip-cb-list"},e._l(e.sp.uniequip,(function(t){var n=t.id;return a("div",{key:"uniequip-"+n,staticClass:"uniequip"},[e.$root.isImplementedUniequip(n)||e.pSetting.uniequip[n]?a("mdui-checkbox",{on:{change:function(t){return!e.$root.isImplementedUniequip(n)&&!t&&e.$nextTick(e.$refs.presetDialog.handleUpdate)}},model:{value:e.pSetting.uniequip[n],callback:function(t){e.$set(e.pSetting.uniequip,n,t)},expression:"pSetting.uniequip[id]"}},[e._v(e._s(e.$t("uniequip."+n)))]):e._e()],1)})),0):e._e()],2)]:e._e(),a("div",{staticClass:"mdui-dialog-actions"},[e.sp?a("a",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.dialogTransparentBtn,expression:"$root.color.dialogTransparentBtn"}],staticClass:"mdui-btn mdui-ripple",staticStyle:{float:"left"},attrs:{href:e.$root.getWikiHref(Object.assign({},{name:e.selectedPresetName},e.characterTable[e.selectedPresetName])),target:"_blank"}},[e._v(e._s(e.$t("common.viewOnWiki")))]):e._e(),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.dialogTransparentBtn,expression:"$root.color.dialogTransparentBtn"}],staticClass:"mdui-btn mdui-ripple",attrs:{"mdui-dialog-cancel":""}},[e._v(e._s(e.$t("common.cancel")))]),"add"==this.pSetting.state?a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-pink","mdui-color-indigo-a100 mdui-ripple-black"],expression:"['mdui-color-pink', 'mdui-color-indigo-a100 mdui-ripple-black']"}],staticClass:"mdui-btn mdui-ripple",attrs:{"mdui-dialog-confirm":""},on:{click:e.addPreset}},[e._v(e._s(e.$t("common.add")))]):e._e(),"edit"==this.pSetting.state?a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-teal","mdui-color-teal-200 mdui-ripple-black"],expression:"['mdui-color-teal', 'mdui-color-teal-200 mdui-ripple-black']"}],staticClass:"mdui-btn mdui-ripple",attrs:{"mdui-dialog-confirm":""},on:{click:e.editPreset}},[e._v(e._s(e.$t("common.edit")))]):e._e()])],2),a("mdui-dialog",{ref:"plannerDialog",staticClass:"mdui-typo",attrs:{id:"planner"},on:{closed:function(t){e.plannerRequest=!1}}},[e.plannerRequest&&e.plan?[a("div",{staticClass:"mdui-dialog-title"},[e._v(" "+e._s(e.$t("cultivate.planner.title"))+" "),a("p",{staticClass:"mdui-m-b-0 mdui-m-t-2",staticStyle:{"font-size":"15px"}},[e._v(" "+e._s(e.$t("cultivate.planner.expectedAP"))),a("code",[e._v(e._s(e.plan.cost))]),a("br"),a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-text-color-blue-900","mdui-text-color-blue-200"],expression:"['mdui-text-color-blue-900', 'mdui-text-color-blue-200']"}]},[e._v(e._s(e.$t("common.stage")))]),e._v(" × "),a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.pinkText,expression:"$root.color.pinkText"}]},[e._v(e._s(e.$t("common.times")))]),e._v("  ("),a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-text-color-yellow-900","mdui-text-color-yellow-300"],expression:"['mdui-text-color-yellow-900', 'mdui-text-color-yellow-300']"}]},[e._v(e._s(e.$t("item.AP_GAMEPLAY")))]),e._v(")  "),a("span",{staticClass:"mdui-text-color-theme mdui-btn-bold"},[e._v(e._s(e.$t("cultivate.planner.targetMaterial")))]),e._v("  "),a("span",{staticClass:"mdui-text-color-theme-secondary"},[e._v(e._s(e.$t("cultivate.planner.otherMaterial")))])])]),a("div",{staticClass:"mdui-dialog-content"},[e._l(e.plan.stages,(function(t){return a("div",{key:t.code,staticClass:"stage"},[a("h5",{staticClass:"stage-title h-ul"},[a("span",{staticClass:"stage-code"},[a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-text-color-blue-900","mdui-text-color-blue-200"],expression:"['mdui-text-color-blue-900', 'mdui-text-color-blue-200']"}]},[e._v(e._s(t.code))]),e._v(" × "),a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.pinkText,expression:"$root.color.pinkText"}]},[e._v(e._s(t.times))]),e._v("  ("),a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-text-color-yellow-900","mdui-text-color-yellow-200"],expression:"['mdui-text-color-yellow-900', 'mdui-text-color-yellow-200']"}]},[e._v(e._s(t.cost))]),e._v(")")]),t.code in e.stageFromNameIdTable?a("small",{staticClass:"from-name mdui-text-color-theme-secondary mdui-text-truncate"},[e._v(e._s(e.$t("zone."+e.stageFromNameIdTable[t.code])))]):e._e()]),a("div",{staticClass:"num-item-list"},[e._l(t.drops,(function(n){return a("arkn-num-item",{directives:[{name:"show",rawName:"v-show",value:e.$root.isImplementedMaterial(n.name),expression:"$root.isImplementedMaterial(drop.name)"}],key:t.code+"-"+n.name,class:{"highlight-bg":e.highlight[n.name]&&e.hlGaps[n.name][0]},attrs:{img:n.name,lable:e.$t("material."+n.name),num:n.num,color:e.gaps[n.name][0]>0?"mdui-text-color-theme mdui-btn-bold":"mdui-text-color-theme-secondary"}})})),a("arkn-num-item",{attrs:{img:"4001",lable:e.$t("item.4001"),num:e.num10k(t.money),color:"mdui-text-color-theme-secondary"}}),t.cardExp>0?a("arkn-num-item",{attrs:{img:"2001",lable:e.$t("common.exp"),num:e.num10k(t.cardExp),color:"mdui-text-color-theme-secondary"}}):e._e(),e._l(4,(function(e){return a("div",{key:e,staticClass:"num-item"})}))],2)])})),e.plan.synthesis.length>0?a("div",{staticClass:"stage"},[a("h5",{staticClass:"h-ul"},[e._v(e._s(e.$t("cultivate.planner.needToBeSynthesized")))]),a("div",{staticClass:"num-item-list"},[e._l(e.plan.synthesis,(function(t){return a("arkn-num-item",{key:"synt-"+t.name,class:{"highlight-bg":e.highlight[t.name]&&e.hlGaps[t.name][0]},attrs:{img:t.name,lable:e.$t("material."+t.name),num:t.num}})})),a("arkn-num-item",{attrs:{img:"4001",lable:e.$t("cultivate.planner.moneyUsed"),num:e.num10k(e.plan.synthesisCost)}}),e._l(4,(function(e){return a("div",{key:e,staticClass:"num-item"})}))],2)]):e._e(),a("div",{staticClass:"stage"},[a("h5",{staticClass:"h-ul"},[e._v(e._s(e.$t("cultivate.planner.obtain")))]),a("div",{staticClass:"num-item-list"},[a("arkn-num-item",{attrs:{img:"4001",lable:e.$t("item.4001"),num:e.num10k(e.plan.money)}}),e.plan.cardExp>0?a("arkn-num-item",{attrs:{img:"2001",lable:e.$t("common.exp"),num:e.num10k(e.plan.cardExp)}}):e._e(),e._l(4,(function(e){return a("div",{key:e,staticClass:"num-item"})}))],2)])],2)]:e._e(),a("div",{staticClass:"mdui-dialog-actions"},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.dialogTransparentBtn,expression:"$root.color.dialogTransparentBtn"}],staticClass:"mdui-btn mdui-ripple",attrs:{"mdui-dialog-cancel":""}},[e._v(e._s(e.$t("common.close")))])])],2),a("mdui-dialog",{ref:"dropDialog",staticClass:"mdui-typo",attrs:{id:"drop-detail"},on:{closed:function(t){e.dropDetails=!1}}},[e.dropDetails?[a("div",{staticClass:"mdui-dialog-title mdui-p-b-1"},[e._v(" "+e._s(e.$t("material."+e.dropFocus))+" "),a("small",{staticClass:"mdui-p-l-1 mdui-text-color-theme-secondary"},[e._v(e._s(e.inputs[e.dropFocus].need||0)+" | "+e._s(e.inputs[e.dropFocus].have||0)+" | "),a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.pinkText,expression:"$root.color.pinkText"}]},[e._v(e._s(e.gaps[e.dropFocus][0]||0)),e.gaps[e.dropFocus][1]>0?a("small",[e._v(" ("+e._s(e.gaps[e.dropFocus][1])+")")]):e._e()])]),a("span",{staticClass:"mdui-p-l-1"},[e.showSyntBtn(e.materialTable[e.dropFocus])?a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.pinkText,expression:"$root.color.pinkText"}],staticClass:"synt-btn mdui-btn mdui-ripple mdui-btn-dense small-btn mdui-p-x-1 mdui-m-l-05",on:{click:function(t){return e.synthesize(e.dropFocus,1)}}},[e._v(e._s(e.$t("common.synthesize"))+" 1")]):e._e(),e.showSyntBtn(e.materialTable[e.dropFocus])?a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.pinkText,expression:"$root.color.pinkText"}],staticClass:"synt-btn mdui-btn mdui-ripple mdui-btn-dense small-btn mdui-p-x-1 mdui-m-l-05",on:{click:function(t){return e.synthesize(e.dropFocus)}}},[e._v(e._s(e.$t("common.synthesize"))+" all")]):e._e()]),a("div",{staticClass:"mdui-text-color-theme-secondary text-10px"},[e._v(e._s(e.madeofTooltips[e.dropFocus]))]),e.materialsCharMap[e.dropFocus]&&e.materialsCharMap[e.dropFocus].size>0?a("div",{staticClass:"mdui-text-color-theme-secondary text-10px"},[e._v(e._s(e.$t("cultivate.dropDetail.relatedOperators"))+"："),e._l(e.materialsCharMap[e.dropFocus],(function(t){return a("span",{key:"mater_"+t,staticClass:"mdui-m-r-1"},[e._v(e._s(e.$t("character."+t)))])}))],2):e._e(),e.dropDetails.length>0?a("p",{staticClass:"mdui-m-b-0 mdui-m-t-1 text-16px"},[e._v(e._s(e.$t("common.stage"))+" | "+e._s(e.$t("cultivate.dropDetail.expectedAP"))+"⚡")]):e._e()]),a("div",{staticClass:"mdui-dialog-content mdui-p-b-0"},e._l(e.dropDetails,(function(t){return a("div",{key:"dd-"+t.code,staticClass:"stage"},[a("h5",{staticClass:"stage-title h-ul"},[a("span",{staticClass:"stage-code"},[e._v(e._s(t.code))]),a("code",{staticClass:"stage-expect-ap"},[e._v(e._s(e.$_.round(e.dropInfo.expectAP[e.dropFocus][t.code],1).toPrecision(3))+"⚡")]),t.code in e.stageFromNameIdTable?a("small",{staticClass:"from-name mdui-text-color-theme-secondary mdui-text-truncate"},[e._v(e._s(e.$t("zone."+e.stageFromNameIdTable[t.code])))]):e._e()]),a("div",{staticClass:"num-item-list"},[e._l(t.drops,(function(n){return a("arkn-num-item",{directives:[{name:"show",rawName:"v-show",value:e.$root.isImplementedMaterial(n[0]),expression:"$root.isImplementedMaterial(drop[0])"}],key:"detail-"+t.code+"-"+n[0],attrs:{img:n[0],lable:e.$t("material."+n[0]),num:e.$_.round(100*n[1],2)+"%",color:e.dropFocus==n[0]?"mdui-text-color-theme mdui-btn-bold":"mdui-text-color-theme-secondary"}})})),e._l(t.dropBrs,(function(n){return a("arkn-num-item",{key:"detail-"+t.code+"-"+n[0],attrs:{img:n[0],lable:e.$t("item."+n[0]),num:e.$_.round(100*n[1],2)+"%",color:"mdui-text-color-theme-secondary"}})})),e._l(4,(function(e){return a("div",{key:e,staticClass:"num-item"})}))],2)])})),0)]:e._e(),a("div",{staticClass:"mdui-dialog-actions"},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.dialogTransparentBtn,expression:"$root.color.dialogTransparentBtn"}],staticClass:"mdui-btn mdui-ripple",attrs:{"mdui-dialog-cancel":""}},[e._v(e._s(e.$t("common.close")))])])],2),a("mdui-dialog",{ref:"dataSyncDialog",staticClass:"mdui-typo",attrs:{id:"data-sync"}},[a("div",{staticClass:"mdui-dialog-title"},[e._v(e._s(e.$t("cultivate.panel.sync.cloudSync")))]),a("div",{staticClass:"mdui-dialog-content mdui-p-b-0"},[a("h5",{staticClass:"mdui-m-t-0"},[e._v(e._s(e.$t("cultivate.panel.sync.cloudBackup")))]),a("div",{staticClass:"mdui-valign-bottom space-8",class:{processing:e.dataSyncing}},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-green-600","mdui-color-green-300 mdui-ripple-black"],expression:"['mdui-color-green-600', 'mdui-color-green-300 mdui-ripple-black']"}],staticClass:"mdui-btn mdui-ripple tag-btn",on:{click:function(t){return e.cloudSaveData()}}},[a("i",{staticClass:"mdui-icon material-icons"},[e._v("cloud_upload")]),e._v(" "+e._s(e.$t("common.backup")))]),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-blue-600","mdui-color-blue-300 mdui-ripple-black"],expression:"['mdui-color-blue-600', 'mdui-color-blue-300 mdui-ripple-black']"}],staticClass:"mdui-btn mdui-ripple tag-btn",attrs:{disabled:!e.syncCode},on:{click:e.cloudRestoreData}},[a("i",{staticClass:"mdui-icon material-icons"},[e._v("cloud_download")]),e._v(" "+e._s(e.$t("common.restore")))]),a("mdui-switch",{attrs:{disabled:!e.syncCode},model:{value:e.setting.autoSyncUpload,callback:function(t){e.$set(e.setting,"autoSyncUpload",t)},expression:"setting.autoSyncUpload"}},[e._v(e._s(e.$t("cultivate.panel.sync.autoSyncUpload")))])],1),a("table",{staticClass:"thin-table mdui-m-b-1",staticStyle:{width:"100%"}},[a("tbody",[a("tr",[a("td",[a("div",{staticClass:"mdui-textfield",attrs:{id:"sync-code"}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.syncCode,expression:"syncCode",modifiers:{trim:!0}}],staticClass:"mdui-textfield-input",attrs:{type:"text",placeholder:e.$t("cultivate.panel.sync.syncCode")},domProps:{value:e.syncCode},on:{input:function(t){t.target.composing||(e.syncCode=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),a("td",{attrs:{width:"1"}},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-text-color-pink-accent","mdui-text-color-indigo-a100"],expression:"['mdui-text-color-pink-accent', 'mdui-text-color-indigo-a100']"}],staticClass:"mdui-btn mdui-ripple",staticStyle:{"min-width":"unset"},attrs:{disabled:!e.syncCode},on:{click:e.copySyncCode}},[e._v(e._s(e.$t("common.copy")))])])])])]),a("p",[e._v(e._s(e.$t("cultivate.panel.sync.cloudSyncReadme")))]),a("p",[e._v(e._s(e.$t("cultivate.panel.sync.autoSyncUploadTip")))]),a("p",[e._v("Powered by "),a("a",{attrs:{href:"https://jsonstorage.net/",target:"_blank"}},[e._v("jsonstorage.net")]),e._v(".")]),a("div",{staticClass:"mdui-divider mdui-m-y-2"}),a("h5",{staticClass:"mdui-m-t-0"},[e._v(e._s(e.$t("cultivate.panel.sync.localBackup")))]),a("div",{staticClass:"mdui-m-b-2"},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-green-600","mdui-color-green-300"],expression:"['mdui-color-green-600', 'mdui-color-green-300']"}],staticClass:"mdui-btn tag-btn",on:{click:e.saveData}},[a("i",{staticClass:"mdui-icon material-icons"},[e._v("file_upload")]),e._v(" "+e._s(e.$t("common.backup")))]),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-blue-600","mdui-color-blue-300"],expression:"['mdui-color-blue-600', 'mdui-color-blue-300']"}],staticClass:"mdui-btn tag-btn",on:{click:e.restoreData}},[a("i",{staticClass:"mdui-icon material-icons"},[e._v("file_download")]),e._v(" "+e._s(e.$t("common.restore")))])]),a("p",[e._v(e._s(e.$t("cultivate.panel.sync.localBackupReadme")))])]),a("div",{staticClass:"mdui-dialog-actions"},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.dialogTransparentBtn,expression:"$root.color.dialogTransparentBtn"}],staticClass:"mdui-btn mdui-ripple",attrs:{"mdui-dialog-cancel":""}},[e._v(e._s(e.$t("common.close")))])])]),a("preset-todo-dialog",{ref:"presetTodoDialog",attrs:{constants:{pSettingInit:e.pSettingInit},highlight:e.highlightCost},on:{"update:highlight":function(t){e.highlightCost=t}}}),a("plan-setting-dialog",{ref:"planSettingDialog",on:{"open-stage-select":function(t){return e.$refs.stageSelectDialog.open()}}}),a("stage-select-dialog",{ref:"stageSelectDialog",on:{change:function(t){return e.setting.planStageBlacklist=t},closed:function(t){return e.$refs.planSettingDialog.open()}}}),a("scroll-to-top")],1)},i=[],s=a("1da1"),r=a("53ca"),o=a("b85c"),l=a("3835"),c=a("2909"),u=a("ade3"),m=a("5530"),d=(a("96cf"),a("dca8"),a("99af"),a("d81d"),a("cb29"),a("07ac"),a("b64b"),a("caad"),a("ac1f"),a("d3b7"),a("25f0"),a("4de4"),a("159b"),a("b0c0"),a("a15b"),a("6062"),a("3ca3"),a("ddb0"),a("0481"),a("a630"),a("4fad"),a("841c"),a("fb6a"),a("2ca0"),a("1276"),a("5319"),a("7db0"),a("2532"),a("e557")),p=a("b4ac"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"mdui-typo mdui-m-y-0",staticStyle:{"font-size":"14px"}},[a("li",[e._v(e._s(e.$t("cultivateGuide.texts.0")))]),a("i18n",{attrs:{path:"cultivateGuide.texts.1",tag:"li"}},[a("b",[e._v(e._s(e.$t("cultivateGuide.b",[e.$t("common.lack")])))])]),a("i18n",{attrs:{path:"cultivateGuide.texts.2",tag:"li"}},[a("b",[e._v(e._s(e.$t("cultivateGuide.b",[e.$t("common.synthesize")])))])]),a("li",[e._v(e._s(e.$t("cultivateGuide.texts.3")))]),a("i18n",{attrs:{path:"cultivateGuide.texts.4",tag:"li"}},[a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.pinkText,expression:"$root.color.pinkText"}]},[e._v(e._s(e.$t("cultivateGuide.pinkTextMaterial")))])]),a("i18n",{attrs:{path:"cultivateGuide.texts.5",tag:"li"}},[a("b",[e._v(e._s(e.$t("cultivateGuide.b",[e.$t("common.preset")])))]),a("b",[e._v(e._s(e.$t("cultivateGuide.b",[e.$t("common.need")])))]),a("b",[e._v(e._s(e.$t("cultivateGuide.b",[e.$t("cultivate.panel.button.resetAll")])))]),a("b",[e._v(e._s(e.$t("cultivateGuide.b",[e.$t("cultivate.panel.button.resetNeed").replace(/"/g,"")])))])]),a("i18n",{attrs:{path:"cultivateGuide.texts.6",tag:"li"}},[a("b",[e._v(e._s(e.$t("cultivateGuide.b",[e.$t("cultivate.panel.button.farmCalculation")])))]),a("a",{attrs:{href:"https://penguin-stats.io/",target:"_blank"}},[e._v(e._s(e.$t("cultivateGuide.penguinData")))])])],1)},h=[],f={name:"material-readme"},g=f,b=a("0c7c"),y=Object(b["a"])(g,v,h,!1,null,null,null),_=y.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"dialog",staticClass:"mdui-dialog",attrs:{id:"preset-todo"}},[e.curPresetName?[a("div",{staticClass:"mdui-dialog-title"},[a("avatar",{staticClass:"mdui-card-header-avatar mdui-color-grey-400 no-pe",attrs:{name:e.curPresetName}}),a("div",{staticClass:"mdui-card-header-title"},[e._v(e._s(e.$t("character."+e.curPresetName)))]),a("div",{staticClass:"mdui-text-color-theme-secondary mdui-m-t-1 no-sl"},[a("small",[e._v(e._s(e.$t("cultivate.todos.tips")))])])],1),a("div",{staticClass:"mdui-dialog-content mdui-p-x-0 mdui-p-y-0 mdui-typo"},[a("transition-group",{staticClass:"mdui-list mdui-p-y-0 no-sl",attrs:{tag:"div",name:"todo-list-transition"},on:{"before-leave":e.$root.transitionBeforeLeave,"after-leave":e.$root.transitionAfterLeaveBeforeEnter}},[e._l(e.displayTodoGroup,(function(t){return[e._l(t.list,(function(n,i){return[a("label",{key:"elite-todo-"+n.name,staticClass:"mdui-list-item mdui-p-l-4",class:{"mdui-ripple":0==i},on:{click:function(t){return e.setHighlightFromTodo(n)}}},[a("div",{staticClass:"mdui-checkbox",class:{"opacity-0":t.disabled||i>0}},[0==i?a("input",{attrs:{type:"checkbox",disabled:t.disabled||!e.todoCanFinished(n)},on:{change:function(a){return e.finishTodo(n,t)}}}):e._e(),a("i",{staticClass:"mdui-checkbox-icon"})]),a("div",{staticClass:"mdui-list-item-content mdui-m-l-1"},[a("span",{staticClass:"mdui-m-r-1",class:{"mdui-text-color-blue":0==i,"mdui-text-color-theme-secondary":i>0}},[e._v(e._s(n.name))]),a("div",{staticClass:"preset-todo-materials"},[e._l(e.todoNeeds(n),(function(t,i){return a("small",{key:"elite-need-"+(i+1),staticClass:"mdui-text-color-grey-600"},[e._v(" "+e._s(t.text)+" "+e._s(t.have)),t.synt?a("span",{class:{"mdui-text-color-theme-accent":e.todoEnough(n)&&e.todoNeedSynt(n)}},[e._v("("+e._s(t.synt)+")")]):e._e(),e._v("/"),a("span",{class:{"mdui-text-color-theme-accent mdui-btn-bold":t.have+t.synt<t.need}},[e._v(e._s(t.need))])])})),e.todoEnough(n)?e.todoNeedSynt(n)?a("small",{staticClass:"mdui-text-color-theme-accent"},[e._v(e._s(e.$t("cultivate.todos.needToSynt")))]):e._e():a("small",{staticClass:"mdui-text-color-theme-accent mdui-btn-bold"},[e._v(e._s(e.$t("cultivate.todos.cannotFinished")))])],2)])])]}))]}))],2)],1)]:e._e(),a("div",{staticClass:"mdui-dialog-actions"},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.dialogTransparentBtn,expression:"$root.color.dialogTransparentBtn"}],staticClass:"mdui-btn mdui-ripple",attrs:{"mdui-dialog-cancel":""}},[e._v(e._s(e.$t("common.close")))])])],2)},$=[],x=(a("a434"),a("c162")),S=a("60bb"),C=a.n(S),w=a("9031"),T={mixins:[x["a"]],props:{constants:{type:Object,default:function(){return{}}},highlight:Object},data:function(){return{pSetting:null,curPreset:null,todoGroupList:null}},created:function(){var e=this;this.$on("closed",(function(){return e.curPreset=null}))},computed:{displayTodoGroup:function(){var e=C.a.transform(this.todoGroupList,(function(e,t){var a=t.type,n=t.index,i=t.group,s=C.a.filter(i,(function(e){return!e.finished}));C.a.size(s)&&e.push({type:a,index:n,list:s,disabled:!1})}),[]);return e.some((function(e){var t=e.type;return"normalSkill"===t}))&&e.filter((function(e){var t=e.type;return"eliteSkill"===t})).forEach((function(e){return e.disabled=!0})),e},curPresetName:function(){var e,t;return null===(e=this.curPreset)||void 0===e||null===(t=e.tag)||void 0===t?void 0:t.name},curElite:function(){return w[this.curPresetName]}},methods:{showTodoPreset:function(e){var t=this;this.curPreset=e;var a=e.tag.setting;this.pSetting=C.a.cloneDeep(a);var n=[{type:"promotion",group:C.a.map(this.curElite.evolve,(function(e,n){return{cost:e,name:"".concat(t.$t("common.promotion")).concat(n+1),index:n,check:a.evolve[n]}}))},{type:"normalSkill",group:C.a.map(C.a.range(a.skills.normal[1],a.skills.normal[2]),(function(e){return{name:"".concat(t.$t("common.skill")," ").concat(e," -> ").concat(e+1),index:e,check:a.skills.normal[0],cost:t.curElite.skills.normal[e-1]}}))}].concat(Object(c["a"])(C.a.map(this.curElite.skills.elite,(function(e,n){var i=e.cost,s=e.name;return{type:"eliteSkill",index:n,group:C.a.map(C.a.range(a.skills.elite[n][1],a.skills.elite[n][2]),(function(e){return{name:"".concat(t.$t("skill.".concat(s))," ").concat(e," -> ").concat(e+1),index:e,check:a.skills.elite[n][0],cost:i[e-7]}}))}}))),Object(c["a"])(C.a.map(this.curElite.uniequip,(function(e){var n=e.cost,i=e.id;return{type:"uniequip",group:[{name:t.$t("uniequip.".concat(i)),index:i,check:a.uniequip[i],cost:n}]}}))));this.todoGroupList=C.a.map(n,(function(e){return Object(m["a"])(Object(m["a"])({},e),{},{group:C.a.map(C.a.filter(e.group,(function(e){return e.check})),(function(e){return C.a.merge(e,{finished:!1})}))})})),this.$nextTick((function(){t.open()}))},todoNeeds:function(e){var t=this,a=e.cost,n=this.$parent,i=[];return C.a.forIn(a,(function(e,a){return i.push({text:t.$t("material.".concat(a)),need:1*e,have:n.inputsInt[a].have,synt:Math.min(n.gaps[a][1],Math.max(1*e-n.inputsInt[a].have,0))})})),i},todoCanFinished:function(e){var t=this,a=e.cost;return C.a.every(a,(function(e,a){return t.$parent.inputsInt[a].have>=e}))},todoEnough:function(e){var t=e.cost,a=this.$parent;return C.a.every(t,(function(e,t){return a.inputsInt[t].have+a.gaps[t][1]>=e}))},todoNeedSynt:function(e){var t=this,a=e.cost;return C.a.some(a,(function(e,a){return t.$parent.inputsInt[a].have<e}))},finishTodo:function(e,t){var a=this.$parent;e.finished=!0;var n=function(t,a){var n=e.index+1;n>=t[2]?C.a.range(0,3).forEach((function(e){return t[e]=a[e]})):t[1]=n};switch(t.type){case"promotion":this.pSetting.evolve[e.index]=!1;break;case"normalSkill":n(this.pSetting.skills.normal,this.constants.pSettingInit.skills.normal);break;case"eliteSkill":n(this.pSetting.skills.elite[t.index],this.constants.pSettingInit.skills.elite[t.index]);break;case"uniequip":this.pSetting.uniequip[e.index]=!1;break}C.a.forIn(e.cost,(function(e,t){a.inputs[t].have=(a.inputsInt[t].have-e).toString(),a.inputs[t].need=(a.inputsInt[t].need-e).toString()})),C.a.size(this.displayTodoGroup)?a.selected.presets[this.curPreset.index].setting=C.a.cloneDeep(this.pSetting):(a.selected.presets.splice(this.curPreset.index,1),this.close()),a.usePreset()},setHighlightFromTodo:function(e){var t=this;this.todoCanFinished(e)?C.a.isEqual(this.highlight,e.cost)&&this.$emit("update:highlight",{}):(this.$emit("update:highlight",C.a.clone(e.cost)),this.close(),this.$nextTick((function(){var e,a;return null===(e=t.$$(".material.highlight")[0])||void 0===e||null===(a=e.scrollIntoView)||void 0===a?void 0:a.call(e,{behavior:"smooth",block:"center"})})))}}},O=T,I=Object(b["a"])(O,k,$,!1,null,null,null),j=I.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"dialog",staticClass:"mdui-dialog mdui-typo no-sl",attrs:{id:"planner-setting"}},[a("div",{staticClass:"mdui-dialog-title",staticStyle:{"padding-bottom":"12px"}},[e._v(e._s(e.$t("cultivate.panel.plannerSetting.title")))]),a("div",{staticClass:"mdui-dialog-content mdui-p-b-0"},[a("div",{staticClass:"mdui-p-t-1"},[e._l(e.settingList,(function(t){return a("mdui-switch",{key:t,model:{value:e.$parent.setting[t],callback:function(a){e.$set(e.$parent.setting,t,a)},expression:"$parent.setting[key]"}},[e._v(e._s(e.$t("cultivate.setting."+t)))])})),e.$parent.isPenguinDataSupportedServer?a("mdui-switch",{model:{value:e.$parent.setting.planIncludeEvent,callback:function(t){e.$set(e.$parent.setting,"planIncludeEvent",t)},expression:"$parent.setting.planIncludeEvent"}},[e._v(e._s(e.$t("cultivate.setting.planIncludeEvent")))]):e._e()],2),a("div",{staticClass:"mdui-m-t-2 mdui-valign flex-wrap"},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.tagBtnHead,expression:"$root.color.tagBtnHead"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn mdui-m-r-1",on:{click:function(t){e.close(),e.$emit("open-stage-select")}}},[a("i",{staticClass:"mdui-icon material-icons"},[e._v("select_all")]),e._v(" "+e._s(e.$t("cultivate.panel.plannerSetting.stageSelectTitle"))+" ")]),a("div",{staticClass:"mdui-valign",staticStyle:{padding:"6px 0"}},[a("i",{staticClass:"mdui-icon material-icons",staticStyle:{"margin-right":"4px"}},[e._v("do_not_disturb")]),a("span",{staticClass:"no-wrap"},[e._v(e._s(e.$tc("cultivate.panel.plannerSetting.excludedStageNumber",e.$parent.setting.planStageBlacklist.length)))])])])]),a("div",{staticClass:"mdui-dialog-actions"},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.dialogTransparentBtn,expression:"$root.color.dialogTransparentBtn"}],staticClass:"mdui-btn mdui-ripple",attrs:{"mdui-dialog-cancel":""}},[e._v(e._s(e.$t("common.close")))])])])},N=[],D={mixins:[x["a"]],data:function(){return{settingList:["planCardExpFirst"]}}},P=D,E=Object(b["a"])(P,B,N,!1,null,null,null),z=E.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"dialog",staticClass:"mdui-dialog mdui-typo no-sl",attrs:{id:"stage-select"}},[a("div",{staticClass:"mdui-dialog-title"},[e._v(" "+e._s(e.$t("cultivate.panel.plannerSetting.stageSelectTitle"))+" "),a("div",{staticClass:"select-all"},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.redBtn,expression:"$root.color.redBtn"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn",on:{click:function(t){return e.batchSelect(!1)}}},[e._v(e._s(e.$t("common.unselectAll")))]),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.tagBtnHead,expression:"$root.color.tagBtnHead"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn",on:{click:function(t){return e.batchSelect(!0)}}},[e._v(e._s(e.$t("common.selectAll")))])])]),a("div",{staticClass:"mdui-dialog-content mdui-p-b-0"},e._l(e.zone2CodesByServer,(function(t,n){return a("div",{key:n,staticClass:"zone-wrap"},[a("div",{staticClass:"zone-header"},[a("div",{staticClass:"zone-name mdui-valign"},[e._v(e._s(e.$t("zone."+(e.zoneToNameId[n]||n))))]),a("mdui-checkbox",e._b({staticClass:"zone-checkbox",on:{change:function(t){return e.zoneBatchSelect(n,t)}}},"mdui-checkbox",e.zoneCheckbox[n],!1))],1),e._l(t,(function(t){return a("tag-button",e._b({key:t,model:{value:e.select[t],callback:function(a){e.$set(e.select,t,a)},expression:"select[code]"}},"tag-button",e.color,!1),[e._v(e._s(t))])}))],2)})),0),a("div",{staticClass:"mdui-dialog-actions"},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.dialogTransparentBtn,expression:"$root.color.dialogTransparentBtn"}],staticClass:"mdui-btn mdui-ripple",attrs:{"mdui-dialog-cancel":""}},[e._v(e._s(e.$t("common.close")))])])])},A=[],F=a("3b93"),M=a("2ba6"),L=(a("5db7"),a("73d9"),a("8e88")),q=Date.now(),G=C.a.mapValues(L,(function(e){return C.a.pickBy(e,(function(e){var t=e.valid,a=t.startTs,n=t.endTs;return 1e3*a<=q&&q<1e3*n}))})),V=C.a.mapValues(G,(function(e){var t=Object.keys(e);return new Set(C.a.flatMap(t,(function(e){return Object.keys(F["event"][e]||{})})))})),U=a("5f87"),H=Date.now(),W=C.a.mapValues(U,(function(e,t){var a=new Set(Object.keys(G[t]).map((function(e){return M["a"][e]})));return C.a.pickBy(e,(function(e){var t=e.startTime,n=e.linkedActId;return 1e3*t<=H&&n.every((function(e){return!a.has(e)}))}))})),J=C.a.mapValues(W,(function(e){var t=new Set(Object.keys(e));return new Set(C.a.flatMap(F["retro"],(function(e,a){return t.has(M["b"][a])?Object.keys(e):[]})).map((function(e){return"".concat(e,"_perm")})))})),Y=function(e){var t=e.split("-"),a=Object(l["a"])(t,2),n=a[0],i=void 0===n?"":n,s=a[1],r=void 0===s?"":s,o=parseInt(i)||0,c=i.split(/\d+/)[0];return[c,o,parseInt(r)||0]},K=function(e){return e.sort((function(e,t){var a=C.a.zip(Y(e),Y(t)).map((function(e){var t=Object(l["a"])(e,2),a=t[0],n=t[1];switch(Object(r["a"])(a)){case"string":return a.length===n.length?n.localeCompare(a):a.length-n.length;case"number":return a-n;default:return 0}}));return a.find((function(e){return 0!==e}))||0}))},Q=function(e){return C.a.transform(e,(function(e,t,a){Object.assign(e,C.a.mapValues(t,(function(e){return Object(m["a"])({zoneId:a},e)})))}),{})},X={normal:Q(F.normal),event:C.a.mapValues(G,(function(e){return C.a.mapValues(Q(C.a.pick(F.event,Object.keys(e))),(function(e){return Object(m["a"])(Object(m["a"])({},e),{},{event:!0})}))})),retro:C.a.mapValues(W,(function(e){return C.a.transform(Q(C.a.pickBy(F.retro,(function(t,a){return M["b"][a]in e}))),(function(e,t,a){e["".concat(a,"_perm")]=Object(m["a"])(Object(m["a"])({},t),{},{retro:!0})}),{})}))},Z=function(e){return Object(m["a"])(Object(m["a"])(Object(m["a"])({},X.normal),X.event[e]),X.retro[e])},ee=Object(m["a"])(Object(m["a"])({},M["a"]),M["b"]);Object.freeze(ee);var te={mixins:[x["a"]],data:function(){return{zoneToNameId:ee,color:{selectedColor:["mdui-color-green-300","mdui-color-green-300"],notSelectedColor:["mdui-color-brown-100 mdui-ripple-black","mdui-color-brown-100 mdui-ripple-black"]},select:{}}},watch:{select:{handler:function(e){if("opened"===this.getState()){var t=Object.keys(C.a.omitBy(e,(function(e){return e})));this.$emit("change",t)}},deep:!0}},methods:{open:function(){var e=new Set(this.$parent.setting.planStageBlacklist);this.select=C.a.fromPairs(C.a.flatten(Object.values(this.zone2CodesByServer)).map((function(t){return[t,!e.has(t)]}))),this.dialog.open()},zoneBatchSelect:function(e,t){var a=this;this.zone2CodesByServer[e].forEach((function(e){return a.select[e]=t}))},batchSelect:function(e){this.select=C.a.mapValues(this.select,(function(){return e}))}},computed:{zone2CodesByServer:function(){var e=this,t=C.a.omit(C.a.mapKeys(X.normal,(function(e){var t=e.code;return t})),this.$parent.unopenedStages),a=C.a.pickBy(C.a.mapKeys(X.event[this.$root.server],(function(e){var t=e.code;return t})),(function(t){var a=t.zoneId;return a in e.$parent.eventInfo})),n=C.a.pickBy(C.a.mapKeys(X.retro[this.$root.server],(function(e){var t=e.code;return t})),(function(t){var a=t.zoneId;return M["b"][a]in e.$parent.retroInfo})),i=Object(m["a"])(Object(m["a"])(Object(m["a"])({},a),t),n);return C.a.mapValues(C.a.groupBy(Object.keys(i),(function(e){return i[e].zoneId})),K)},zoneCheckbox:function(){var e=this;return C.a.mapValues(this.zone2CodesByServer,(function(t){var a=C.a.sumBy(t,(function(t){return e.select[t]?1:0}));return{checked:a===t.length,indeterminate:C.a.inRange(a,1,t.length)}}))}}},ae=te,ne=(a("8d25"),Object(b["a"])(ae,R,A,!1,null,null,null)),ie=ne.exports,se=a("cf9e"),re=a("ab3e"),oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||"string"!==typeof e)return t;try{return JSON.parse(e)}catch(a){console.error(a)}return t},le=a("0868"),ce=a("9225"),ue={WRITE:"clipboard-write",READ:"clipboard-read"},me=function(){return Object(le["a"])({message:ce["a"].t.apply(ce["a"],arguments),timeout:6e3})},de=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,n,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=!(i.length>1&&void 0!==i[1])||i[1],e.prev=1,navigator&&"permissions"in navigator&&"clipboard"in navigator){e.next=5;break}return a||me("common.clipboard.notSupport",{name:t}),e.abrupt("return",!1);case 5:return e.next=7,navigator.permissions.query({name:t});case 7:if(n=e.sent.state,"granted"===n||"prompt"===n){e.next=11;break}return a||me("common.clipboard.permissionDenied",{name:t}),e.abrupt("return",!1);case 11:e.next=18;break;case 13:return e.prev=13,e.t0=e["catch"](1),console.error(e.t0),a||me("common.clipboard.notSupport",{name:t}),e.abrupt("return",!1);case 18:return e.abrupt("return",!0);case 19:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),pe=function(e){var t=document.createElement("span");t.textContent=e,t.style.whiteSpace="pre",t.style.userSelect="all",document.body.appendChild(t);var a=window.getSelection(),n=window.document.createRange();a.removeAllRanges(),n.selectNode(t),a.addRange(n);var i=!1;try{i=window.document.execCommand("copy")}finally{a.removeAllRanges(),window.document.body.removeChild(t)}return i},ve=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,de(ue.WRITE);case 2:if(!e.sent){e.next=12;break}return e.prev=3,e.next=6,navigator.clipboard.writeText(t);case 6:return e.abrupt("return",!0);case 9:e.prev=9,e.t0=e["catch"](3),console.error(e.t0);case 12:return a=pe(t),a||me("common.clipboard.notSupport",{name:ue.WRITE}),e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),he=a("29d9"),fe=a("f52e"),ge=a("f43e"),be=a("039e"),ye=a.n(be),_e=a("23a9"),ke=a.n(_e),$e=a("f3d4"),xe=a("64e5"),Se=a("de76"),Ce=a("072a"),we=a("60fe"),Te=new he["a"]("material"),Oe=new he["a"]("penguinData"),Ie=4,je={"-1":"SYNT",0:"ALWAYS",1:"ALMOST",2:"USUAL",3:"OFTEN",4:"SOMETIMES"};Object.freeze(je);var Be=["2001","2002","2003","2004"],Ne=["zoneId","event","retro","cost","lmd","cardExp"].concat(Be),De={evolve:[!1,!1],skills:{normal:[!1,1,7],elite:new Array(C.a.max(C.a.map(w,(function(e){return e.skills.elite.length})))).fill([!1,7,10]).map((function(e){return C.a.cloneDeep(e)}))},uniequip:{},state:"add"};Object.freeze(De);var Pe=function(e){return e<0?0:e},Ee={name:"arkn-material",components:{ScrollToTop:d["a"],CultivateGuide:_,ArknNumItem:p["a"],PresetTodoDialog:j,PlanSettingDialog:z,StageSelectDialog:ie},data:function(){var e;return Object(m["a"])(Object(m["a"])({showAll:!1,enumOccPer:je},Se["a"]),{},{characterTable:Ce["a"],elite:w,inputs:{},preset:"",selectedPresetName:"",selectedPreset:!1,pSetting:C.a.cloneDeep(De),pSettingInit:De,selected:{rare:[],presets:[]},setting:(e={simpleMode:!1,hideIrrelevant:!1,translucentDisplay:!0,showDropProbability:!1,prioritizeNeedsWhenSynt:!1,planIncludeEvent:!0,planCardExpFirst:!1},Object(u["a"])(e,"syncCodeV".concat(Ie),""),Object(u["a"])(e,"autoSyncUpload",!1),Object(u["a"])(e,"planStageBlacklist",[]),Object(u["a"])(e,"simpleModeOrderedByRareFirst",!1),Object(u["a"])(e,"penguinUseCnServer",!1),e),settingList:[["hideIrrelevant","translucentDisplay","showDropProbability","prioritizeNeedsWhenSynt"],["planCardExpFirst"]],color:we["b"],penguinData:{time:0,data:null},plannerInited:!1,plannerRequest:!1,apbDisabled:!1,dropDetails:!1,dropFocus:"",dropTable:{},dropInfo:{expectAP:{},stageValue:{}},synthesisTable:[],materialConstraints:{},dataSyncing:!1,throttleAutoSyncUpload:null,ignoreInputsChange:!1,highlightCost:{}})},watch:{setting:{handler:function(e){Te.setItem("setting",e)},deep:!0},selected:{handler:function(e){Te.setItem("selected",e)},deep:!0},inputs:{handler:function(e){for(var t=0,a=Object.values(e);t<a.length;t++)for(var n=a[t],i=0,s=Object.keys(n);i<s.length;i++){var r=s[i];if(["need","have"].includes(r)){var o=n[r],l=/[^0-9]/.exec(o);l&&(n[r]=(parseInt(/[0-9]*/.exec(o)[0])||0).toString())}else delete n[r]}Te.setItem("inputs",e),this.setting.autoSyncUpload&&this.syncCode&&this.throttleAutoSyncUpload&&(this.ignoreInputsChange?this.ignoreInputsChange=!1:this.throttleAutoSyncUpload())},deep:!0},"setting.showDropProbability":function(e){e&&this.initPlanner()},"$root.locale":function(){this.updatePreset()},"$root.server":function(){this.updatePreset(),this.plannerInited&&(this.plannerInited=!1,this.initPlanner())}},computed:{syncCode:{get:function(){return this.setting["syncCodeV".concat(Ie)]},set:function(e){this.setting["syncCodeV".concat(Ie)]=e}},isPenguinDataSupportedServer:function(){return"tw"!==this.$root.server},penguinURL:function(){return"https://penguin-stats.".concat(this.$root.localeCN&&this.setting.penguinUseCnServer?"cn":"io","/PenguinStats/api/v2/result/matrix")},stageTable:function(){return Z(this.$root.server)},eventInfo:function(){return G[this.$root.server]},eventStages:function(){return V[this.$root.server]},retroInfo:function(){return W[this.$root.server]},retroStages:function(){return J[this.$root.server]},stageFromNameIdTable:function(){return C.a.transform(this.dropTable,(function(e,t,a){var n=t.zoneId;ee[n]&&(e[a]=ee[n])}),{})},isPenguinDataExpired:function(){var e=Date.now(),t=this.penguinData.time||0,a=this.isPenguinDataSupportedServer&&C.a.size(this.eventInfo);if(a&&C.a.some(this.eventInfo,(function(e){var a=e.valid.startTs;return t<1e3*a})))return!0;var n=24*(a?3:7)*60*60*1e3;return t+n<e},penguinDataServer:function(){return this.isPenguinDataSupportedServer?this.$root.server.toUpperCase():"CN"},selectedSynthesisTable:function(){var e=this;return this.synthesisTable.filter((function(t,a){return e.selected.rare[a]}))},unopenedStages:function(){return $e[this.$root.server]},dropTableByServer:function(){return C.a.omit(this.dropTable,this.unopenedStages)},dropTableUsedByPlanner:function(){return C.a.omit(this.isPenguinDataSupportedServer&&this.setting.planIncludeEvent?this.dropTableByServer:C.a.omitBy(this.dropTableByServer,(function(e){return e.event||e.retro})),this.setting.planStageBlacklist)},dropListByServer:function(){var e=this,t=C.a.merge.apply(C.a,[C.a.mapValues(this.materialTable,(function(t){var a=t.drop;return C.a.omit(a,e.unopenedStages)}))].concat(Object(c["a"])(Object.values(C.a.pick(C.a.mapKeys(xe.retro,(function(e,t){return M["b"][t]})),Object.keys(this.retroInfo))))));return this.isPenguinDataSupportedServer&&(t=C.a.merge.apply(C.a,[{}].concat(Object(c["a"])(Object.values(C.a.pick(xe.event,Object.keys(this.eventInfo)))),[t]))),t},syntExceptAPList:function(){var e=this;return C.a.mapValues(this.dropListByServer,(function(t,a){return e.getSyntExceptAP(a)}))},syntExceptAPListWithoutEvent:function(){var e=this;return C.a.mapValues(this.dropListByServer,(function(t,a){return e.getSyntExceptAP(a,!0)}))},displayDropListByServer:function(){var e=this,t=this.setting.showDropProbability&&this.plannerInited,a=C.a.cloneDeep(this.dropListByServer);return Object.keys(a).forEach((function(n){if(a[n]=C.a.mapValues(a[n],(function(a,i){var s={occPer:a};return t&&(s.expectAP=e.dropInfo.expectAP[n][i]),s})),t){var i=a[n],s=e.syntExceptAPList[n];if(s){var r=s.stages,o=s.ap,c=function(){if(r.length>1)return!0;if(1===r.length){var e=Object(l["a"])(r,1),t=e[0];if(!(t in i))return!0}return!1}();c&&(i.synt={occPer:-1,expectAP:o})}var u=C.a.sortBy(Object.keys(i),(function(e){return i[e].expectAP}));a[n]=C.a.transform(u,(function(e,t){e[t]=i[t]}),{})}})),a},implementedElite:function(){var e=this;return C.a.pickBy(this.elite,(function(t,a){return e.$root.isImplementedChar(a)}))},compressedInputs:{get:function(){return C.a.transform(this.inputsInt,(function(e,t,a){var n=t.need,i=t.have;n+i>0&&(e[a]=[n,i])}),{})},set:function(e){var t=this;this.reset(null,!1,!1),C.a.each(e,(function(e,a){if(Array.isArray(e)){var n=Object(l["a"])(e,2),i=n[0],s=n[1];t.inputs[a].need=i>0?C.a.toString(i):"",t.inputs[a].have=s>0?C.a.toString(s):""}else{var r=e.need,o=e.have;t.inputs[a].need=r,t.inputs[a].have=o}}))}},madeofTooltips:function(){var e=this,t=this.$root.localeIs("us"),a=this.$t("cultivate.dropDetail.synthesizeCosts")+(t?": ":"："),n=t?", ":"、";return C.a.transform(this.materialList,(function(t,i){var s=i.name,r=i.madeof,o=[];C.a.forIn(r,(function(t,a){return o.push("".concat(e.$t("material.".concat(a)),"*").concat(t))})),t[s]=o.length>0?"".concat(a).concat(o.join(n)):e.$t("common.cannotSynthesize")}),{})},synthesizable:function(){var e=this;return C.a.transform(this.materialList,(function(t,a){var n=a.name,i=a.madeof;0!=C.a.size(i)?t[n]=C.a.every(i,(function(t,a){return e.inputsInt[a].have>=t})):t[n]=!1}),{})},allRare:function(){return C.a.sum(this.selected.rare)==this.rareNum},rareNum:function(){return C.a.size(this.materials)},rareArr:function(){return C.a.range(this.rareNum,0)},inputsInt:function(){var e={};for(var t in this.inputs)e[t]=C.a.mapValues(this.inputs[t],(function(e){return parseInt(e)||0}));return e},gaps:function(){var e=this,t=this.inputsInt,a=C.a.mapValues(t,(function(e){return e.need})),n=C.a.mapValues(t,(function(){return 0})),i=C.a.mapValues(t,(function(){return 0}));return C.a.forInRight(this.materials,(function(e){var n,i=Object(o["a"])(e);try{var s=function(){var e=n.value,i=e.name,s=e.madeof;a[i]=Pe(a[i]-t[i].have),C.a.forIn(s,(function(e,t){a[t]+=a[i]*e}))};for(i.s();!(n=i.n()).done;)s()}catch(r){i.e(r)}finally{i.f()}})),C.a.forIn(this.materials,(function(s,r){if(e.selected.rare[r-2]){var l,c=Object(o["a"])(s);try{for(c.s();!(l=c.n()).done;){var u=l.value,m=u.name,d=u.madeof;if(0!==C.a.size(d))while(a[m]>0&&C.a.every(d,(function(a,s){var r=t[s].have+n[s]-i[s]-a,o=e.setting.prioritizeNeedsWhenSynt?t[s].need:0;return r-o>=0})))a[m]--,n[m]++,C.a.forEach(d,(function(e,t){return i[t]+=e}))}}catch(p){c.e(p)}finally{c.f()}}})),C.a.mergeWith(a,n,(function(e,t){return[e,t]}))},hlGaps:function(){var e=this,t=this.highlightCost;if(!t)return{};var a=C.a.mapValues(this.inputs,(function(e,a){return t[a]||0})),n=C.a.mapValues(this.inputs,(function(){return 0})),i=C.a.mapValues(this.inputs,(function(){return 0}));return C.a.forInRight(this.materials,(function(t){var n,i=Object(o["a"])(t);try{var s=function(){var t=n.value,i=t.name,s=t.madeof;a[i]=Pe((a[i]||0)-e.inputsInt[i].have),C.a.forIn(s,(function(e,t){a[t]+=a[i]*e}))};for(i.s();!(n=i.n()).done;)s()}catch(r){i.e(r)}finally{i.f()}})),C.a.forIn(this.materials,(function(t,s){if(e.selected.rare[s-2]){var r,l=Object(o["a"])(t);try{for(l.s();!(r=l.n()).done;){var c=r.value,u=c.name,m=c.madeof;if(0!==C.a.size(m))while(a[u]>0&&C.a.every(m,(function(t,a){var s=e.inputsInt[a].have+n[a]-i[a]-t,r=e.setting.prioritizeNeedsWhenSynt?e.inputsInt[a].need:0;return s-r>=0})))a[u]--,n[u]++,C.a.forEach(m,(function(e,t){return i[t]+=e}))}}catch(d){l.e(d)}finally{l.f()}}})),C.a.mergeWith(a,n,(function(e,t){return[e,t]}))},autoGaps:function(){var e=this;return C.a.mapValues(this.highlight,(function(t,a){return t?e.hlGaps[a]:e.gaps[a]}))},highlight:function(){var e=this;return C.a.mapValues(this.hlGaps,(function(t,a){return Boolean(e.highlightCost[a]||C.a.sum(t))}))},showMaterials:function(){var e=this;if(!this.setting.hideIrrelevant||!this.hasInput)return C.a.mapValues(this.materials,(function(t,a){return e.selected.rare[a-1]?new Set(t.map((function(e){var t=e.name;return t}))):new Set}));var t={},a=Object.keys(this.materials).sort().reverse();return a.forEach((function(a){if(e.selected.rare[a-1]){var n=e.materials[a].map((function(e){var t=e.name;return t})),i=new Set(n.filter((function(t){return e.inputsInt[t].need>0||C.a.sum(e.gaps[t])>0})));(t[parseInt(a)+1]||new Set).forEach((function(t){C.a.sum(e.gaps[t])&&Object.keys(e.materialTable[t].madeof).forEach((function(e){return i.add(e)}))})),t[a]=i}else t[a]=new Set})),t},showMaterialsFlatten:function(){var e=this;return this.setting.hideIrrelevant&&this.hasInput?new Set(C.a.map(this.showMaterials,(function(e){return Array.from(e)})).flat()):new Set(this.materialOrder.filter((function(t){return e.selected.rare[e.materialTable[t].rare-1]})))},hasInput:function(){var e=this;return!!C.a.sumBy(Object.entries(this.inputsInt),(function(t){var a=Object(l["a"])(t,2),n=a[0],i=a[1].need;return i+C.a.sum(e.gaps[n])}))},presetItems:function(){var e=this,t=this.$root.pureName(this.preset),a=C.a.transform(Object.keys(this.implementedElite),(function(a,n){var i=e.$root.getSearchGroup(e.characterTable[n]).map((function(e){return e.indexOf(t)+1||1/0}));i.some((function(e){return e!==1/0}))&&a.push({search:i,name:n,nl:e.$t("character.".concat(n)).length})}),[]);return a.sort((function(e,t){for(var a=e.search,n=e.nl,i=t.search,s=t.nl,r=0;r<Math.min(a.length,i.length);r++){var o=a[r]-i[r];if(!C.a.isNaN(o))return o||n-s}return 0})),C.a.map(a,(function(t){return{name:t.name,text:e.$t("character.".concat(t.name))}})).slice(0,10)},sp:function(){return!!this.selectedPresetName&&this.elite[this.selectedPresetName]},checkPSetting:function(){var e=this.pSetting,t=[].concat(Object(c["a"])(e.evolve),[e.skills.normal[0]],Object(c["a"])(C.a.map(e.skills.elite,(function(e){return e[0]}))),Object(c["a"])(Object.values(e.uniequip)));return C.a.sum(t)>0},plan:function(){var e=this;if(!this.plannerInited)return!1;this.$gtag.event("material_arkplanner_calc",{event_category:"material",event_label:"arkplanner"});var t=[this.dropTableUsedByPlanner].concat(Object(c["a"])(this.selectedSynthesisTable)),a={optimize:"cost",opType:"min",constraints:Object(m["a"])(Object(m["a"])(Object(m["a"])({},this.materialConstraints),C.a.transform(this.inputsInt,(function(e,t,a){t.need>0&&(e[a]={min:t.need})}),{})),{},{lmd:{equal:0},init:{equal:1}}),variables:Object.assign.apply(Object,[{have:C.a.transform(this.inputsInt,(function(e,t,a){t.have>0&&(e[a]=t.have)}),{init:1}),"conv-lmd+":{lmd:7500,cost:30},"conv-lmd":{lmd:-7500,cost:-30}}].concat(Object(c["a"])(t)))};this.setting.planCardExpFirst&&(a.constraints.cardExp={equal:0},a.variables["conv-cardExp"]={cardExp:-7400,lmd:-360,cost:-30});var n=ye.a.Solve(a);if(!n.feasible)return!1;delete n.feasible,delete n.result,delete n.bounded,delete n.have;var i=C.a.mapValues(C.a.mapValues(C.a.omitBy(n,(function(e,t){return t.startsWith("synt-")||t.startsWith("conv-")})),(function(e){return e<1?1:Math.ceil(e)})),(function(t,a){var n=t*e.dropTableByServer[a].cost,i=C.a.mapValues(C.a.omit(e.dropTableByServer[a],Ne),(function(e){return C.a.round(t*e,1)})),s=C.a.transform(i,(function(e,t,a){t>0&&e.push({name:a,num:t})}),[]);return s.sort((function(t,a){var n=e.materialTable[a.name].rare-e.materialTable[t.name].rare;return 0==n&&(n=a.num-t.num),n})),{times:t,cost:n,money:12*n,cardExp:C.a.round(e.dropTableByServer[a].cardExp*t),drops:s}})),s=C.a.toPairs(i),r=C.a.transform(i,(function(e,t,a){return e.push(Object(m["a"])({code:a},t))}),[]);r.sort((function(e,t){return t.code.localeCompare(e.code)}));var o=0,l=C.a.transform(C.a.pickBy(n,(function(e,t){return t.startsWith("synt-")})),(function(t,a,n){var i=n.split("synt-")[1];o+=100*(e.materialTable[i].rare-1)*a,t.push({name:i,num:C.a.round(a,1)})}),[]);return l.sort((function(t,a){var n=e.materialTable[a.name].rare-e.materialTable[t.name].rare;return 0==n&&(n=a.num-t.num),n})),o=C.a.round(o),{cost:C.a.sumBy(s,(function(e){return e[1].cost})),stages:r,synthesis:l,synthesisCost:o,money:C.a.sumBy(s,(function(e){return e[1].money}))-o,cardExp:C.a.sumBy(s,(function(e){return e[1].cardExp}))}},syntExceptAPlpVariables:function(){return Object.assign.apply(Object,[{},this.isPenguinDataSupportedServer?this.dropTableByServer:C.a.omitBy(this.dropTableByServer,(function(e){return e.event}))].concat(Object(c["a"])(this.synthesisTable)))},syntExceptAPlpVariablesWithoutEvent:function(){return Object.assign.apply(Object,[{},C.a.omitBy(this.dropTableByServer,(function(e){return e.event}))].concat(Object(c["a"])(this.synthesisTable)))},materialsCharMap:function(){var e=this,t=C.a.map(this.selected.presets,(function(e){var t=e.name,a=e.setting,n=a.evolve,i=a.skills,s=i.elite,r=i.normal,o=a.uniequip;return C.a.merge({name:t,evolve:n,normal:C.a.map(C.a.range(1,7),(function(e){return!!(r[0]&&e>=r[1]&&e<r[2])})),uniequip:o},C.a.transform(s,(function(e,t,a){e["elite_".concat(a)]=C.a.map(C.a.range(7,10),(function(e){return!!(t[0]&&e>=t[1]&&e<t[2])}))}),{}))}));return C.a.transform(t,(function(t,a){var n=e.elite[a.name],i=n.evolve,s=n.skills,r=s.elite,o=s.normal,l=n.uniequip,c=C.a.merge({evolve:i,normal:o},C.a.transform(r,(function(e,t,a){e["elite_".concat(a)]=t.cost}),{}));C.a.each(c,(function(e,n){var i=a[n];C.a.each(e,(function(e,n){i[n]&&C.a.each(e,(function(e,n){n in t||(t[n]=new Set),t[n].add(a.name)}))}))})),l.forEach((function(e){var n=e.id,i=e.cost;a.uniequip[n]&&C.a.each(i,(function(e,n){n in t||(t[n]=new Set),t[n].add(a.name)}))}))}),{})},moraleConsumption:function(){var e=this,t={5:8,4:4,3:2,2:1,1:0};return C.a.mapValues(this.materials,(function(a,n){return C.a.sumBy(a,(function(a){var i=a.name;return e.gaps[i][1]*t[n]}))}))},planStageBlacklistTags:function(){return Object(se["createTags"])(this.setting.planStageBlacklist,this.planStageBlacklist.validation)},dataForSave:{get:function(){return{inputs:this.compressedInputs,presets:this.selected.presets,planStageBlacklist:this.setting.planStageBlacklist}},set:function(e){if("object"===Object(r["a"])(e)){var t=e.inputs,a=e.presets,n=e.planStageBlacklist;t&&(this.compressedInputs=t),a&&(this.selected.presets=a),n&&(this.setting.planStageBlacklist=n),this.updatePreset()}}}},methods:{num10k:function(e){return e>1e5?this.$root.localeCN?"".concat(C.a.round(e/1e4,2),"w"):"".concat(C.a.round(e/1e3,1),"k"):e},calcMaterialNameTextWidth:function(e){var t=245;return this.synthesizable[e.name]&&this.gaps[e.name][1]>0&&(t-=40),!this.$root.smallScreen&&C.a.size(e.drop)>=4&&(t-=85),t},synthesize:function(e,t){var a=this;if(this.synthesizable[e]){var n=this.materialTable[e].madeof;t=t||Math.min.apply(Math,[C.a.sum(this.autoGaps[e])].concat(Object(c["a"])(C.a.map(n,(function(e,t){return Math.floor(a.inputsInt[t].have/e)}))))),C.a.forIn(n,(function(e,n){return a.inputs[n].have=(a.inputsInt[n].have-e*t).toString()})),this.inputs[e].have=(this.inputsInt[e].have+t).toString()}},reset:function(e){var t=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=n?{inputs:C.a.cloneDeep(this.inputs),presets:C.a.cloneDeep(this.selected.presets)}:null;for(var s in!a||e&&"have"===e||(this.selected.presets=[]),this.ignoreInputsChange=!0,this.inputs){var r=this.inputs[s];if(e)r[e]="";else for(var o in r)r[o]=""}n&&this.$snackbar({message:this.$t("common.reseted"),timeout:0,buttonText:this.$t("common.undo"),noSkip:!0,onButtonClick:function(){t.ignoreInputsChange=!0,t.inputs=i.inputs,t.selected.presets=i.presets}})},addNeed:function(e){var t=this;C.a.each(e,(function(e,a){var n=parseInt(t.inputs[a].need)||0;t.inputs[a].need=(n+e).toString()}))},usePreset:function(e){var t=this;e&&(this.selected.presets=e),this.reset("need",!1,!1);var a,n=Object(o["a"])(this.selected.presets);try{var i=function(){var e=a.value,n=e.name,i=e.setting,s=i.evolve,r=i.skills,o=i.uniequip,l=t.elite[n];if(l.evolve.forEach((function(e,a){s[a]&&t.addNeed(e)})),r.normal[0])for(var c=r.normal[1]-1;c<r.normal[2]-1;c++)t.addNeed(l.skills.normal[c]);l.skills.elite.forEach((function(e,a){var n=r.elite[a];if(n[0])for(var i=l.skills.normal.length+1,s=n[1]-i;s<n[2]-i;s++)t.addNeed(l.skills.elite[a].cost[s])})),l.uniequip.forEach((function(e){var a=e.id,n=e.cost;o[a]&&t.addNeed(n)}))};for(n.s();!(a=n.n()).done;)i()}catch(s){n.e(s)}finally{n.f()}Te.setItem("selected",this.selected)},showPreset:function(e){var t,a,n,i,s,r,o=this,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(this.selectedPreset=e,this.selectedPresetName=e.tag.name,l)?n=C.a.cloneDeep(this.selected.presets[e.index].setting):(n=C.a.cloneDeep(De),C.a.each(null!==(i=null===(s=this.elite[this.selectedPresetName])||void 0===s||null===(r=s.skills)||void 0===r?void 0:r.elite)&&void 0!==i?i:[],(function(e,t){var a=e.cost;n.skills.elite[t][2]-=3-a.length})));n.uniequip||(n.uniequip={}),C.a.each(null!==(t=null===(a=this.elite[this.selectedPresetName])||void 0===a?void 0:a.uniequip)&&void 0!==t?t:[],(function(e){var t=e.id;t in n.uniequip||(n.uniequip[t]=!1)})),this.pSetting=n,this.$nextTick((function(){o.$refs.presetDialog.open(),o.$mutation()}))},addPreset:function(){this.checkPSetting?(this.selectedPreset.tag.setting=C.a.cloneDeep(this.pSetting),this.selectedPreset.tag.setting.state="edit",this.selectedPreset.addTag()):this.$snackbar(this.$t("cultivate.panel.preset.emptySelect"))},editPreset:function(){this.checkPSetting?(this.selected.presets[this.selectedPreset.index].setting=C.a.cloneDeep(this.pSetting),this.usePreset()):this.$snackbar(this.$t("cultivate.panel.preset.emptySelect"))},updatePreset:function(){var e=this;this.selected.presets.forEach((function(t){t.text=e.$t("character.".concat(t.name));for(var a=t.setting.skills.elite,n=De.skills.elite,i=n.length-a.length,s=0;s<i;s++)a.push(C.a.cloneDeep(n[0]));"uniequip"in t.setting||e.$set(t.setting,"uniequip",{})}))},copySyncCode:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ve(e.syncCode);case 2:if(!t.sent){t.next=4;break}e.$snackbar(e.$t("common.copied"));case 4:case"end":return t.stop()}}),t)})))()},saveData:function(){var e=this;this.$refs.dataSyncDialog.close();var t=this.dataForSave,a=ge["Base64"].encode(JSON.stringify(t));this.$prompt(this.$t("cultivate.panel.sync.saveDataLable"),this.$t("cultivate.panel.sync.saveDataTitle"),Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ve(a);case 2:if(!t.sent){t.next=4;break}e.$snackbar(e.$t("common.copied"));case 4:case"end":return t.stop()}}),t)}))),(function(){}),{history:!1,defaultValue:a,cancelText:this.$t("common.close"),confirmText:this.$t("cultivate.panel.sync.copy2clipboard")})},restoreData:function(){var e=this;this.$refs.dataSyncDialog.close(),this.$prompt(this.$t("cultivate.panel.sync.restoreDataLable"),this.$t("cultivate.panel.sync.restoreDataTitle"),(function(t){if(0!=t.length)try{e.dataForSave=JSON.parse(ge["Base64"].decode(t)),e.$snackbar(e.$t("cultivate.snackbar.imported"))}catch(a){e.$snackbar(e.$t("cultivate.snackbar.importFailed"))}}),(function(){}),{history:!1,cancelText:this.$t("common.cancel"),confirmText:this.$t("common.import")})},cloudSaveData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.dataForSave,n={md5:ke()(JSON.stringify(a)),data:a};this.dataSyncing=!0,this.syncCode?re["a"].updateJson(this.syncCode,n).then((function(){e.dataSyncing=!1,t||e.$snackbar(e.$t("cultivate.snackbar.backupSucceeded"))})).catch((function(t){e.dataSyncing=!1,e.$snackbar("".concat(e.$t("cultivate.snackbar.backupFailed")," ").concat(t.responseText||t.message||""))})):re["a"].createJson(n).then((function(t){e.dataSyncing=!1,e.syncCode=t,e.$snackbar(e.$t("cultivate.snackbar.backupSucceeded"))})).catch((function(t){e.dataSyncing=!1,e.$snackbar("".concat(e.$t("cultivate.snackbar.backupFailed")," ").concat(t.responseText||t.message||""))})),t||this.$gtag.event("material_cloud_backup",{event_category:"material",event_label:"cloud"})},cloudRestoreData:function(){var e=this;this.syncCode&&(this.dataSyncing=!0,re["a"].getJson(this.syncCode).then((function(t){var a=t.md5,n=t.data;if(!a||!n||a!==ke()(JSON.stringify(n)))return e.dataSyncing=!1,void e.$snackbar(e.$t("cultivate.snackbar.restoreFailed"));e.ignoreInputsChange=!0,e.dataForSave=n,e.$snackbar(e.$t("cultivate.snackbar.restoreSucceeded")),e.dataSyncing=!1})).catch((function(t){e.dataSyncing=!1,e.$snackbar("".concat(e.$t("cultivate.snackbar.restoreFailed")," ").concat(t.responseText||t.message||""))})),this.$gtag.event("material_cloud_restore",{event_category:"material",event_label:"cloud"}))},initPenguinData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.penguinData=Object(m["a"])({time:0,data:null},Oe.getObject(e.penguinDataServer)),!e.penguinData.data||e.isPenguinDataExpired){t.next=3;break}return t.abrupt("return",!0);case 3:return a=e.$snackbar({message:e.$t("cultivate.snackbar.penguinDataLoading"),timeout:0,closeOnOutsideClick:!1}),t.next=6,re["a"].get("".concat(e.penguinURL,"?server=").concat(e.penguinDataServer),!0).catch((function(){return!1}));case 6:if(n=t.sent,a.close(),!n){t.next=14;break}e.penguinData={data:n,time:Date.now()},Oe.setItem(e.penguinDataServer,e.penguinData),e.$gtag.event("material_penguinstats_loaded",{event_category:"material",event_label:"penguinstats"}),t.next=22;break;case 14:if(!e.penguinData.data){t.next=19;break}e.$snackbar(e.$t("cultivate.snackbar.penguinDataFallback")),e.$gtag.event("material_penguinstats_fallback",{event_category:"material",event_label:"penguinstats"}),t.next=22;break;case 19:return e.$snackbar(e.$t("cultivate.snackbar.penguinDataFailed")),e.$gtag.event("material_penguinstats_failed",{event_category:"material",event_label:"penguinstats"}),t.abrupt("return",!1);case 22:return t.abrupt("return",!0);case 23:case"end":return t.stop()}}),t)})))()},initPlanner:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,i,s,r,l,c,u,d,p,v,h,f,g,b,y,_,k,$,x,S,w,T,O,I;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.plannerInited){t.next=2;break}return t.abrupt("return");case 2:return e.dropInfo={expectAP:{},stageValue:{}},e.dropTable={},e.materialConstraints={},e.synthesisTable=[],t.next=8,e.initPenguinData();case 8:if(t.sent){t.next=10;break}return t.abrupt("return");case 10:a=e.dropInfo.expectAP,n=Object(o["a"])(e.materialList),t.prev=12,n.s();case 14:if((i=n.n()).done){t.next=26;break}if(s=i.value,r=s.name,l=s.madeof,c=s.rare,a[r]={},e.materialConstraints[r]={min:0},0!=C.a.size(l)){t.next=20;break}return t.abrupt("continue",24);case 20:u={},u[r]=1,e.synthesisTable[c-2]||(e.synthesisTable[c-2]={}),e.synthesisTable[c-2]["synt-".concat(r)]=Object(m["a"])(Object(m["a"])(Object(m["a"])({},u),C.a.mapValues(l,(function(e){return-e}))),{},{lmd:-100*(c-1),cost:0});case 24:t.next=14;break;case 26:t.next=31;break;case 28:t.prev=28,t.t0=t["catch"](12),n.e(t.t0);case 31:return t.prev=31,n.f(),t.finish(31);case 34:d={2001:200,2002:400,2003:1e3,2004:2e3},p=Object(o["a"])(e.penguinData.data.matrix),t.prev=36,p.s();case 38:if((v=p.n()).done){t.next=59;break}if(h=v.value,f=h.stageId,g=h.itemId,b=h.quantity,y=h.times,0!==b){t.next=42;break}return t.abrupt("continue",57);case 42:if(_=f.replace(/_rep$/,""),_ in e.stageTable&&(g in e.materialConstraints||g in d)){t.next=45;break}return t.abrupt("continue",57);case 45:if(k=e.stageTable[_],$=k.zoneId,x=k.code,S=k.cost,w=k.event,T=void 0!==w&&w,O=k.retro,I=void 0!==O&&O,!T){t.next=51;break}if($ in e.eventInfo&&e.eventStages.has(_)){t.next=49;break}return t.abrupt("continue",57);case 49:t.next=54;break;case 51:if(!I){t.next=54;break}if(M["b"][$]in e.retroInfo&&e.retroStages.has(_)){t.next=54;break}return t.abrupt("continue",57);case 54:x in e.dropTable||(e.dropTable[x]={zoneId:$,event:T,retro:I,cost:S,lmd:12*S,cardExp:0}),e.dropTable[x][g]=b/y,g in d?e.dropTable[x].cardExp+=d[g]*b/y:a[g][x]=S/e.dropTable[x][g];case 57:t.next=38;break;case 59:t.next=64;break;case 61:t.prev=61,t.t1=t["catch"](36),p.e(t.t1);case 64:return t.prev=64,p.f(),t.finish(64);case 67:e.plannerInited=!0;case 68:case"end":return t.stop()}}),t,null,[[12,28,31,34],[36,61,64,67]])})))()},showPlan:function(){var e=this;0===this.plan.cost?this.$alert(this.$t("cultivate.planner.noNeed"),(function(){}),{confirmText:this.$t("common.okay")}):(this.plannerRequest=!0,this.$nextTick((function(){return e.$refs.plannerDialog.open()})))},resetPenguinData:function(){return this.plannerInited=!1,Oe.setItem(this.penguinDataServer,Object(m["a"])(Object(m["a"])({data:null},this.penguinData),{},{time:0})),this.initPlanner()},showDropDetail:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,i,s,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.name,a.next=3,t.initPlanner();case 3:t.dropDetails=[],t.dropFocus=n,a.t0=regeneratorRuntime.keys(t.displayDropListByServer[n]);case 6:if((a.t1=a.t0()).done){a.next=18;break}if(i=a.t1.value,"synt"!==i){a.next=10;break}return a.abrupt("continue",6);case 10:if(s=t.dropTable[i],s){a.next=13;break}return a.abrupt("continue",6);case 13:r=C.a.toPairs(C.a.omit(s,Ne)).sort((function(e,a){var n=t.materialTable[a[0]].rare-t.materialTable[e[0]].rare;return 0!=n?n:a[1]-e[1]})),o=C.a.toPairs(C.a.pick(s,Be)),t.dropDetails.push({code:i,cost:s.cost,drops:r,dropBrs:o}),a.next=6;break;case 18:t.$nextTick((function(){return t.$refs.dropDialog.open()}));case 19:case"end":return a.stop()}}),a)})))()},showSyntBtn:function(e){return this.synthesizable[e.name]&&C.a.sum(this.autoGaps[e.name])>0},getSyntExceptAP:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.plannerInited)return null;var a={optimize:"cost",opType:"min",constraints:Object(m["a"])(Object(m["a"])({},this.materialConstraints),{},Object(u["a"])({},e,{min:1})),variables:t?this.syntExceptAPlpVariablesWithoutEvent:this.syntExceptAPlpVariables},n=ye.a.Solve(a),i=n.result;return delete n.feasible,delete n.result,delete n.bounded,{stages:Object.keys(n).filter((function(e){return!e.startsWith("synt-")})),ap:i}},onDropListScroll:function(e){var t,a=this,n=e.deltaY,i=e.path,s=null===i||void 0===i||null===(t=i.find)||void 0===t?void 0:t.call(i,(function(e){return a.$$(e).hasClass("drop-list")}));if(s){var r=n>0?1:n<0?-1:0,o=Math[{"-1":"floor",0:"round",1:"ceil"}[r]](s.scrollTop/21)+r;s.scrollTop=21*o}},resetSelectedRare:function(){this.selected.rare=C.a.concat([!1],C.a.fill(Array(this.rareNum-1),!0))},moraleText:function(e){var t=Math.floor(e/24),a=e%24;return t>0?"".concat(t," * 24")+(a?" + ".concat(a):""):a},importItems:function(e){var t=this;C.a.each(e,(function(e,a){var n=t.inputs[a];n&&"number"===typeof e&&(n.have=String(e))}))},handleImgErr:function(e){e.target.src=this.$root.avatar("no_image"),e.target.style.backgroundColor="#bdbdbd",e.target.style.borderRadius="50%"},isSkillReleased:function(e){var t=this,a=e.isPatch,n=e.unlockStages;return!a||n.every((function(e){return!t.unopenedStages.includes(e)}))},getRelatedMaterials:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a[e]=!0,Object.keys(this.materialTable[e].madeof).forEach((function(e){return t.getRelatedMaterials(e,a)})),a}},created:function(){var e=this;this.$root.$on("import-items",this.importItems),this.$root.importItemsListening=!0,window.importItems=this.importItems;var t,a=Object(o["a"])(this.materialOrder);try{for(a.s();!(t=a.n()).done;){var n=t.value;this.$set(this.inputs,n,{need:"",have:""})}}catch(u){a.e(u)}finally{a.f()}for(var i in this.resetSelectedRare(),Te.each((function(t,a){"inputs"===a&&t&&(e.ignoreInputsChange=!0),t&&(e[a]=Object(fe["a"])(e[a],t))})),this.inputs){var s=this.inputs[i];for(var r in s)0==s[r]&&(s[r]="")}this.updatePreset(),this.throttleAutoSyncUpload=C.a.throttle((function(){return e.cloudSaveData(!0)}),5e3,{leading:!1,trailing:!0});var l="depot.imports";if(l in(window.localStorage||{})){this.ignoreInputsChange=!1;var c=oe(window.localStorage.getItem(l));window.localStorage.removeItem(l),this.importItems(c)}},mounted:function(){var e=this;this.$root.materialListRendering&&setTimeout((function(){e.$root.materialListRendering=!1}),700)},beforeDestroy:function(){this.$root.importItemsListening=!1,this.$root.$off("import-items")}},ze=Ee,Re=(a("5537"),Object(b["a"])(ze,n,i,!1,null,null,null));t["default"]=Re.exports},5537:function(e,t,a){"use strict";a("c7e6")},"59e7":function(e,t,a){},7813:function(e,t,a){"use strict";a("a5f8")},8679:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("img",{staticClass:"arkn-item mdui-m-r-1 no-sl no-pe",style:{width:e.widthCss,height:e.widthCss},attrs:{src:e.$root.materialImage(e.img),crossorigin:"anonymous"},on:{error:e.handleImgErr}})},i=[],s=(a("a9e3"),{name:"arkn-item",props:{img:String,width:{type:[Number,String],default:48}},computed:{widthCss:function(){return"number"===typeof this.width?"".concat(this.width,"px"):this.width}},methods:{handleImgErr:function(e){e.target.src=this.$root.avatar("no_image"),e.target.style.backgroundColor="#bdbdbd",e.target.style.borderRadius="50%"}}}),r=s,o=(a("7813"),a("0c7c")),l=Object(o["a"])(r,n,i,!1,null,"7e63f491",null);t["a"]=l.exports},"8d25":function(e,t,a){"use strict";a("c5f8")},"91ae":function(e,t,a){"use strict";a("d370")},9541:function(e,t,a){"use strict";a("59e7")},a5f8:function(e,t,a){},ab3e:function(e,t,a){"use strict";var n=a("1da1"),i=a("5530"),s=(a("96cf"),a("d3b7"),a("1276"),a("ac1f"),a("c579")),r=a.n(s),o=a("60bb"),l=a.n(o),c=a("e444"),u=r.a.JQ.ajax,m="https://jsonstorage.net",d=function(e){return new Promise((function(t,a){u(Object(i["a"])(Object(i["a"])({},e),{},{success:function(e){return t(e)},error:a}))}))};t["a"]={get:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return d({method:"GET",url:e,dataType:t?"json":"text"})},tagOCR:function(e){var t=new FormData;return l.a.each(e,(function(e,a){return t.append(a,e)})),d({method:"POST",url:"/api/tagocr",processData:!1,data:t,dataType:"json",contentType:!1})},ocrspace:function(e,t){var a=new FormData;return l.a.each(e,(function(e,t){return a.append(t,e)})),d({method:"POST",url:"https://api.ocr.space/parse/image",processData:!1,data:a,dataType:"json",contentType:!1,headers:{apikey:t||"helloworld"}})},createJson:function(e){return d({method:"POST",url:"".concat(m,"/api/items"),processData:!1,data:JSON.stringify(e),dataType:"json",contentType:"application/json"}).then((function(e){var t=e.uri;return c["a"].encode(l.a.last(t.split("/")))}))},getJson:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",d({method:"GET",url:"".concat(m,"/api/items/").concat(c["a"].decode(t)),dataType:"json",contentType:"application/json"}));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),updateJson:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",d({method:"PUT",url:"".concat(m,"/api/items/").concat(c["a"].decode(t)),processData:!1,data:JSON.stringify(a),dataType:"json",contentType:"application/json"}));case 1:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}()}},b4ac:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"num-item"},[a("div",{staticClass:"mdui-valign"},[a("arkn-item",{attrs:{img:e.img,width:e.width}}),a("div",{staticClass:"num-item-text with-label",class:e.color},[a("label",{staticClass:"mdui-textfield-label mdui-text-truncate"},[e._v(e._s(e.lable))]),e.hasNum?a("span",[e._v(e._s(e.format?e.$formatter.number.format(e.num):e.num))]):a("span",[e._t("default")],2)])],1)])},i=[],s=(a("a9e3"),a("8679")),r={name:"arkn-num-item",components:{ArknItem:s["a"]},props:{img:String,lable:String,num:[Number,String],width:Number,color:[String,Boolean],format:Boolean},computed:{hasNum:function(){return"undefined"!==typeof this.num}}},o=r,l=(a("9541"),a("0c7c")),c=Object(l["a"])(o,n,i,!1,null,null,null);t["a"]=c.exports},c5f8:function(e,t,a){},c7e6:function(e,t,a){},d370:function(e,t,a){},de76:function(e,t,a){"use strict";a.d(t,"b",(function(){return o}));var n=a("5530"),i=(a("07ac"),a("d81d"),a("b0c0"),a("5db7"),a("73d9"),a("60bb")),s=a.n(i),r=a("9d72"),o=s.a.mapValues(r,(function(e,t){return Object(n["a"])({name:t},e)})),l=s.a.sortBy(Object.values(o),"sortId"),c=s.a.groupBy(l,(function(e){var t=e.rare;return t})),u=l.map((function(e){var t=e.name;return t})),m=s.a.flatMap(Object.values(c).reverse(),(function(e){return e.map((function(e){var t=e.name;return t}))}));t["a"]={materials:c,materialTable:o,materialList:l,materialOrder:u,materialRareFirstOrder:m}},e444:function(e,t,a){"use strict";(function(e){var n=a("2909"),i=(a("4d90"),a("fb6a"),a("5319"),a("ac1f"),a("d3b7"),a("25f0"),a("a15b"),a("d81d"),a("42a7")("0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ")),s="hex",r=32,o=[[0,8],[8,4],[12,4],[16,4],[20]],l=function(e,t){return e.slice(-t).padStart(t,"0")},c=function(t){var a=e.from(t.replace(/-/g,""),s);return i.encode(a)},u=function(t){var a=l(e.from(i.decode(t)).toString(s),r);return o.map((function(e){return a.substr.apply(a,Object(n["a"])(e))})).join("-")};t["a"]={encode:c,decode:u}}).call(this,a("b639").Buffer)},e557:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.redBtn,expression:"$root.color.redBtn"}],staticClass:"mdui-fab mdui-fab-fixed mdui-ripple scroll-to-top",class:{"mdui-fab-hide":e.top<1e3},on:{click:e.scrollTop}},[a("i",{staticClass:"mdui-icon material-icons"},[e._v("vertical_align_top")])])},i=[],s=a("60bb"),r=a.n(s),o={name:"scroll-to-top",data:function(){return{top:0,handleScrollDebounce:function(){}}},methods:{scrollTop:function(){window.scroll({top:0,left:0,behavior:"smooth"})},handleScroll:function(){this.top=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}},created:function(){this.handleScrollDebounce=r.a.debounce(this.handleScroll,100)},mounted:function(){window.addEventListener("scroll",this.handleScrollDebounce)},destroyed:function(){window.removeEventListener("scroll",this.handleScrollDebounce)}},l=o,c=(a("91ae"),a("0c7c")),u=Object(c["a"])(l,n,i,!1,null,"151fee56",null);t["a"]=u.exports}}]);